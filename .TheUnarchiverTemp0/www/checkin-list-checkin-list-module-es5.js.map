{"version":3,"sources":["webpack:///src/app/pages/checkin-list/checkin-list.page.scss","webpack:///src/app/pages/checkin-list/checkin-list-routing.module.ts","webpack:///src/app/pages/checkin-list/checkin-list.module.ts","webpack:///src/app/pages/checkin-list/checkin-list.page.html","webpack:///src/app/pages/checkin-list/checkin-list.page.ts"],"names":["routes","path","component","CheckinListPageRoutingModule","imports","forChild","exports","CheckinListPageModule","declarations","CheckinListPage","navCtrl","modalController","apiService","utilService","router","accountService","sharedDataService","locations","getLocationItemList","user","companyID","subscribe","res","StatusCode","ApiResponseCode","RequestSuccessful","filterLocationList","Result","error","list","map","item","found","entityIds","getRelevantEntityId","locationID","checkedInPlaces","checkedInDetailItem","LocationID","ProjectID","projectID","InventoryID","inventoryItemID","push","userValue","locationItemList","navigateBack","replaceUrl","create","cssClass","swipeToClose","showBackdrop","backdropDismiss","animated","componentProps","modal","present","onWillDismiss","then","data","openLocation","location","checkinLocationByOption","CheckInLocationByOptions","List","checkInForLocation","getCheckinDetails","userId","selector","template"],"mappings":"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","file":"checkin-list-checkin-list-module-es5.js","sourcesContent":["export default \"ion-header {\\n  background-color: #ffffff !important;\\n}\\nion-header ::ng-deep app-modal-header ion-toolbar {\\n  --border-color: #FFFFFF;\\n  --border-width: 0;\\n  --background: #FFFFFF;\\n}\\nion-header ion-searchbar {\\n  margin: 0 16px;\\n  margin-top: 20px;\\n  --icon-color: #A1A8CA;\\n  --placeholder-color: #A1A8CA;\\n  --color: #A1A8CA;\\n  --box-shadow: none;\\n  border: 1px solid #CACEE1;\\n  padding: 0;\\n  width: auto;\\n  border-radius: 3px;\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 12px;\\n  line-height: 16px;\\n  color: #A1A8CA;\\n}\\nion-content ion-list {\\n  margin-top: 16px;\\n}\\nion-content ion-list ion-item {\\n  --border-color: #E8EAF2;\\n  --border-width: 1px;\\n}\\nion-content ion-list ion-item ion-label {\\n  padding: 16px 22px;\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: #171538;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NoZWNraW4tbGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQ0FBQTtBQUNGO0FBRUk7RUFDRSx1QkFBQTtFQUNBLGlCQUFBO0VBQ0EscUJBQUE7QUFBTjtBQUlFO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0VBQ0EscUJBQUE7RUFDQSw0QkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FBRko7QUFRRTtFQUNFLGdCQUFBO0FBTEo7QUFPSTtFQUNFLHVCQUFBO0VBQ0EsbUJBQUE7QUFMTjtBQU9NO0VBQ0Usa0JBQUE7RUFDQSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FBTFIiLCJmaWxlIjoiY2hlY2tpbi1saXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmICFpbXBvcnRhbnQ7XG5cbiAgOjpuZy1kZWVwIGFwcC1tb2RhbC1oZWFkZXIge1xuICAgIGlvbi10b29sYmFyIHtcbiAgICAgIC0tYm9yZGVyLWNvbG9yOiAjRkZGRkZGO1xuICAgICAgLS1ib3JkZXItd2lkdGg6IDA7XG4gICAgICAtLWJhY2tncm91bmQ6ICNGRkZGRkY7XG4gICAgfVxuICB9XG5cbiAgaW9uLXNlYXJjaGJhciB7XG4gICAgbWFyZ2luOiAwIDE2cHg7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAtLWljb24tY29sb3I6ICNBMUE4Q0E7XG4gICAgLS1wbGFjZWhvbGRlci1jb2xvcjogI0ExQThDQTtcbiAgICAtLWNvbG9yOiAjQTFBOENBO1xuICAgIC0tYm94LXNoYWRvdzogbm9uZTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjQ0FDRUUxO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgIGZvbnQtZmFtaWx5OiBJQk0gUGxleCBTYW5zO1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICBjb2xvcjogI0ExQThDQTtcbiAgfVxufVxuXG5pb24tY29udGVudCB7XG5cbiAgaW9uLWxpc3Qge1xuICAgIG1hcmdpbi10b3A6IDE2cHg7XG5cbiAgICBpb24taXRlbSB7XG4gICAgICAtLWJvcmRlci1jb2xvcjogI0U4RUFGMjtcbiAgICAgIC0tYm9yZGVyLXdpZHRoOiAxcHg7XG5cbiAgICAgIGlvbi1sYWJlbCB7XG4gICAgICAgIHBhZGRpbmc6IDE2cHggMjJweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IElCTSBQbGV4IFNhbnM7XG4gICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMThweDtcbiAgICAgICAgY29sb3I6ICMxNzE1Mzg7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CheckinListPage } from './checkin-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckinListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CheckinListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckinListPageRoutingModule } from './checkin-list-routing.module';\n\nimport { CheckinListPage } from './checkin-list.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { PipesModule } from '../../pipes/pipes.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n\timports: [CommonModule, FormsModule, IonicModule, CheckinListPageRoutingModule, ComponentsModule, PipesModule, TranslateModule],\n\tdeclarations: [CheckinListPage],\n})\nexport class CheckinListPageModule {}\n","export default \"<ion-content>\\n\\t<ion-header mode=\\\"ios\\\">\\n\\t\\t<app-modal-header [modalTitle]=\\\"'PAGESPECIFIC_TEXT.CHECK_IN_AND_OUT.CHECK_IN' | translate\\\" (closeModal)=\\\"onClose()\\\"></app-modal-header>\\n\\n\\t\\t<ion-searchbar (click)=\\\"presentModal()\\\" [placeholder]=\\\"'PAGESPECIFIC_TEXT.CHECK_IN_AND_OUT.SEARCH_ENTITIES' | translate\\\" mode=\\\"md\\\" class=\\\"search-field\\\"></ion-searchbar>\\n\\t</ion-header>\\n\\n\\t<ion-list inset=\\\"false\\\" lines=\\\"none\\\">\\n\\t\\t<ion-item *ngFor=\\\"let location of locations\\\" (click)=\\\"openLocation(location)\\\">\\n\\t\\t\\t<ion-label>{{location.locationName}}</ion-label>\\n\\t\\t</ion-item>\\n\\t</ion-list>\\n</ion-content>\\n\";","import {Component, OnInit} from '@angular/core';\nimport {NavController} from '@ionic/angular';\nimport {DemoDataService} from '../../services/demo-data.service';\nimport {ModalController} from '@ionic/angular';\nimport {SearchLocationPage} from '../../modals/search-location/search-location.page';\nimport {ApiService} from '../../services/api.service';\nimport {AccountService} from '../../services/account.service';\nimport {User} from '../../_models';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {EnumService} from '../../services/enum.service';\nimport {LocationItem} from '../../_models/locationItem';\nimport {UtilService} from '../../services/util.service';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'app-checkin-list',\n    templateUrl: './checkin-list.page.html',\n    styleUrls: ['./checkin-list.page.scss'],\n})\nexport class CheckinListPage implements OnInit {\n    user: User;\n\n    locations = [];\n\n    constructor(\n        public navCtrl: NavController,\n        public modalController: ModalController,\n        public apiService: ApiService,\n        public utilService: UtilService,\n        public router: Router,\n        public accountService: AccountService,\n        public sharedDataService: SharedDataService,\n    ) {\n        this.user = this.accountService.userValue;\n        this.filterLocationList(sharedDataService.locationItemList);\n    }\n\n    ngOnInit() {\n        this.getLocationItemList();\n    }\n\n    getLocationItemList = () => {\n        this.apiService.getLocationItemList(this.user.companyID).subscribe((res) => {\n            if (res.StatusCode === EnumService.ApiResponseCode.RequestSuccessful) {\n                this.filterLocationList(res.Result);\n            }\n        }, (error) => {\n        });\n    };\n\n\n    filterLocationList = (list) => {\n        if (list) {\n            const locations = [];\n            list.map((item) => {\n                let found = false;\n                const entityIds = this.utilService.getRelevantEntityId(item.locationID);\n                this.sharedDataService.checkedInPlaces.map((checkedInDetailItem) => {\n                    if ((entityIds.LocationID > 0 && entityIds.LocationID === checkedInDetailItem.locationID) ||\n                        (entityIds.ProjectID > 0 && entityIds.ProjectID === checkedInDetailItem.projectID) ||\n                        (entityIds.InventoryID > 0 && entityIds.InventoryID === checkedInDetailItem.inventoryItemID)\n                    ) {\n                        found = true;\n                        return;\n                    }\n                });\n\n                if (!found) {\n                    locations.push(item);\n                }\n            });\n\n            this.locations = locations;\n        }\n    };\n\n    onClose() {\n        this.navCtrl.navigateBack(['/tabs/dashboard'], {replaceUrl: true});\n    }\n\n    async presentModal() {\n        const modal = await this.modalController.create({\n            component: SearchLocationPage,\n            cssClass: 'search-location',\n            swipeToClose: true,\n            showBackdrop: true,\n            backdropDismiss: true,\n            animated: false,\n            componentProps: {\n                list: this.locations\n            }\n        });\n        await modal.present();\n\n        modal.onWillDismiss().then(({data}) => {\n            if (data) {\n                this.openLocation(data);\n            }\n        });\n    }\n\n    openLocation(location: LocationItem) {\n        this.sharedDataService.checkinLocationByOption = EnumService.CheckInLocationByOptions.List;\n        this.sharedDataService.checkInForLocation = location;\n        this.sharedDataService.getCheckinDetails(this.user?.userId, this.apiService);\n    }\n\n}\n"]}