{"version":3,"sources":["webpack:///src/app/pages/checkin-workpermit/checkin-workpermit.page.ts","webpack:///src/app/pages/checkin-workpermit/checkin-workpermit-routing.module.ts","webpack:///src/app/pages/checkin-workpermit/checkin-workpermit.page.html","webpack:///src/app/pages/checkin-workpermit/checkin-workpermit.page.scss","webpack:///src/app/pages/checkin-workpermit/checkin-workpermit.module.ts"],"names":["CheckinWorkpermitPage","navController","sharedDataService","dynamicRouteService","utilService","apiService","navCtrl","accountService","activatedRoute","offlineManagerService","UtilService","isCheckedIn","pageTitle","getPersonalModeAvailableWorkPermits","itemDetail","callBack","user","userId","companyID","formFolderID","subscribe","response","StatusCode","ApiResponseCode","RequestSuccessful","availableWorkPermits","Result","fireCallBack","error","dedicatedMode","checkedInPlaces","length","userValue","queryParams","res","JSON","parse","formTitle","presentLoadingWithOptions","getDedicatedModeAvailableWorkPermits","hideLoading","dedicatedModeDeviceDetailData","offlineMode","dedicatedModeLocationUse","getDeviceAvailableWorkPermits","then","type","iconName","back","item","signOffFormDetail","signOffFor","SignOffType","WORK_PERMIT_DM","navigateForward","form","onSuccess","FORMS_DM","viewFormFor","ViewFormForType","WorkPermitDM","dedicatedModeTempAuthFor","DedicatedModeTempAuthType","WorkPermit","getFormDetail","formID","formVersionID","formVersionNo","getDedicatedModeSignOffFormDetail","place","currentSelectedCheckinPlace","getSignOffFormDetail","locationID","projectID","inventoryItemID","CurrentCheckinWorkPermit","replaceUrl","newPath","addDynamicRoute","stringify","selector","template","routes","path","component","CheckinWorkpermitPageRoutingModule","imports","forChild","exports","CheckinWorkpermitPageModule","declarations"],"mappings":"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","file":"default~checkin-workpermit-checkin-workpermit-module~pages-checkin-workpermit-checkin-workpermit-module-es5.js","sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { DemoDataService } from \"../../services/demo-data.service\";\nimport { NavController } from \"@ionic/angular\";\nimport { SharedDataService } from \"../../services/shared-data.service\";\nimport { EnumService } from \"../../services/enum.service\";\nimport { FormItem } from \"../../_models/formItem\";\nimport { UtilService } from \"../../services/util.service\";\nimport { Response, User } from \"../../_models\";\nimport { SignOffFormDetail } from \"../../_models/signOffFormDetail\";\nimport { ApiService } from \"../../services/api.service\";\nimport { AccountService } from \"../../services/account.service\";\nimport { CheckedInDetailItem } from \"../../_models/checkedInDetailItem\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { DynamicRouteService } from \"src/app/services/dynamic-route.service\";\nimport { OfflineManagerService } from \"src/app/services/offline-manager.service\";\nimport { DeviceEntityDetail } from \"src/app/_models/deviceEntityDetail\";\n\n@Component({\n  selector: \"app-checkin-workpermit\",\n  templateUrl: \"./checkin-workpermit.page.html\",\n  styleUrls: [\"./checkin-workpermit.page.scss\"],\n})\nexport class CheckinWorkpermitPage implements OnInit {\n  UtilService = UtilService;\n  availableWorkPermits: Array<FormItem>;\n  user: User;\n\n  isCheckedIn = false;\n\n  itemDetail: FormItem;\n  pageTitle = \"\";\n\n  constructor(\n    public navController: NavController,\n    public sharedDataService: SharedDataService,\n    public dynamicRouteService: DynamicRouteService,\n    public utilService: UtilService,\n    public apiService: ApiService,\n    public navCtrl: NavController,\n    private accountService: AccountService,\n    public activatedRoute: ActivatedRoute,\n    public offlineManagerService: OfflineManagerService\n  ) {\n    if (!sharedDataService.dedicatedMode) {\n      this.isCheckedIn = sharedDataService.checkedInPlaces\n        ? sharedDataService.checkedInPlaces.length > 0\n        : false;\n      this.user = this.accountService.userValue;\n    }\n    this.availableWorkPermits = sharedDataService.availableWorkPermits;\n\n    this.activatedRoute.queryParams.subscribe((res) => {\n      if (res) {\n        if (res.itemDetail) {\n          this.itemDetail = JSON.parse(res.itemDetail);\n          this.pageTitle = this.itemDetail.formTitle;\n        }\n      }\n    });\n  }\n\n  ngOnInit() {\n    if (this.itemDetail && this.itemDetail.formFolderID) {\n      this.availableWorkPermits = [];\n\n      this.utilService.presentLoadingWithOptions();\n\n      if (this.sharedDataService.dedicatedMode) {\n        this.getDedicatedModeAvailableWorkPermits(this.itemDetail, () => {\n          this.utilService.hideLoading();\n        });\n      } else {\n        this.getPersonalModeAvailableWorkPermits(this.itemDetail, () => {\n          this.utilService.hideLoading();\n        });\n      }\n    }\n  }\n\n  getDedicatedModeAvailableWorkPermits(itemDetail: FormItem, callBack = null) {\n    const companyID =\n      this.sharedDataService.dedicatedModeDeviceDetailData?.companyID;\n\n    if (this.sharedDataService.offlineMode) {\n      const dedicatedModeLocationUse: DeviceEntityDetail =\n        this.sharedDataService.dedicatedModeLocationUse;\n      this.offlineManagerService\n        .getDeviceAvailableWorkPermits(\n          dedicatedModeLocationUse,\n          itemDetail.formFolderID\n        )\n        .then((res: any) => {\n          this.availableWorkPermits = res;\n          UtilService.fireCallBack(callBack);\n        });\n    } else {\n      this.apiService\n        .getDedicatedModeAvailableWorkPermits(\n          companyID,\n          itemDetail.formFolderID\n        )\n        .subscribe(\n          (response: Response) => {\n            if (\n              response.StatusCode ===\n              EnumService.ApiResponseCode.RequestSuccessful\n            ) {\n              this.availableWorkPermits = response.Result;\n            }\n            UtilService.fireCallBack(callBack);\n          },\n          (error) => {\n            this.availableWorkPermits = [];\n            UtilService.fireCallBack(callBack);\n          }\n        );\n    }\n  }\n\n  getPersonalModeAvailableWorkPermits = async (\n    itemDetail: FormItem,\n    callBack = null\n  ) => {\n    this.apiService\n      .getPersonalModeAvailableWorkPermits(\n        this.user?.userId,\n        this.user.companyID,\n        itemDetail.formFolderID\n      )\n      .subscribe(\n        (response: Response) => {\n          if (\n            response.StatusCode ===\n            EnumService.ApiResponseCode.RequestSuccessful\n          ) {\n            this.availableWorkPermits = response.Result;\n          }\n          UtilService.fireCallBack(callBack);\n        },\n        (error) => {\n          this.availableWorkPermits = [];\n          UtilService.fireCallBack(callBack);\n        }\n      );\n  };\n\n  fileIcon(type) {\n    let iconName = \"\";\n    switch (type) {\n      case \"document\":\n        iconName = \"attachment1\";\n        break;\n      case \"pdf\":\n        iconName = \"attachment2\";\n        break;\n      case \"form\":\n        iconName = \"attachment3\";\n        break;\n      case \"folder\":\n        iconName = \"attachment4\";\n        break;\n      case \"image\":\n        iconName = \"attachment5\";\n        break;\n      case \"video\":\n        iconName = \"attachment6\";\n        break;\n      default:\n        iconName = \"attachment1\";\n    }\n    return \"./assets/icon/\" + iconName + \".svg\";\n  }\n\n  back() {\n    this.navController.back();\n  }\n\n  onSelect(item) {\n    if (this.sharedDataService.dedicatedMode) {\n      this.sharedDataService.signOffFormDetail = item;\n      this.sharedDataService.signOffFor =\n        EnumService.SignOffType.WORK_PERMIT_DM;\n      this.navController.navigateForward(\"form-open-auth-dm\");\n    } else {\n      this.navController.navigateForward(\"form-cover\", {\n        queryParams: item,\n      });\n    }\n  }\n\n  async openForm(form: FormItem) {\n    this.utilService.presentLoadingWithOptions();\n\n    if (this.sharedDataService.dedicatedMode) {\n      const onSuccess = (res) => {\n        this.sharedDataService.signOffFor = EnumService.SignOffType.FORMS_DM;\n        this.sharedDataService.viewFormFor =\n          EnumService.ViewFormForType.WorkPermitDM;\n        this.sharedDataService.signOffFormDetail = res as SignOffFormDetail;\n        this.sharedDataService.dedicatedModeTempAuthFor =\n          EnumService.DedicatedModeTempAuthType.WorkPermit;\n        this.navController.navigateForward(\"/form-open-auth-dm\");\n      };\n\n      if (this.sharedDataService.offlineMode) {\n        this.offlineManagerService\n          .getFormDetail(\n            form.formID,\n            form.formVersionID,\n            form.formVersionNo,\n            form.formFolderID\n          )\n          .then((res) => {\n            this.utilService.hideLoading();\n\n            if (res) {\n              const signOffFormDetail = res as SignOffFormDetail;\n              onSuccess(signOffFormDetail);\n            }\n          })\n          .catch((error) => {\n            this.utilService.hideLoading();\n          });\n      } else {\n        this.apiService\n          .getDedicatedModeSignOffFormDetail(form.formID)\n          .subscribe(\n            (response: Response) => {\n              this.utilService.hideLoading();\n              if (\n                response.StatusCode ===\n                EnumService.ApiResponseCode.RequestSuccessful\n              ) {\n                const signOffFormDetail = response.Result as SignOffFormDetail;\n                onSuccess(signOffFormDetail);\n              }\n            },\n            (error) => {\n              this.utilService.hideLoading();\n            }\n          );\n      }\n    } else {\n      const place: CheckedInDetailItem =\n        this.sharedDataService.currentSelectedCheckinPlace;\n      this.apiService\n        .getSignOffFormDetail(\n          this.user?.userId,\n          form.formID,\n          place?.locationID,\n          place?.projectID,\n          place?.inventoryItemID\n        )\n        .subscribe(\n          (response: Response) => {\n            this.utilService.hideLoading();\n            if (\n              response.StatusCode ===\n              EnumService.ApiResponseCode.RequestSuccessful\n            ) {\n              this.sharedDataService.viewFormFor =\n                EnumService.ViewFormForType.CurrentCheckinWorkPermit;\n              this.sharedDataService.signOffFormDetail =\n                response.Result as SignOffFormDetail;\n              this.navCtrl.navigateForward([\"/form-cover\"], {\n                replaceUrl: true,\n              });\n            }\n          },\n          (error) => {\n            this.utilService.hideLoading();\n          }\n        );\n    }\n  }\n\n  openFormFolder(item: FormItem) {\n    const newPath =\n      (this.sharedDataService.dedicatedMode\n        ? \"checkin-workpermit/\"\n        : \"tabs/current-checkin/checkin-workpermit/\") + item.formFolderID;\n    this.dynamicRouteService.addDynamicRoute(\n      newPath,\n      CheckinWorkpermitPage,\n      true\n    );\n    this.navCtrl.navigateForward([newPath], {\n      queryParams: { itemDetail: JSON.stringify(item) },\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CheckinWorkpermitPage } from './checkin-workpermit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckinWorkpermitPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CheckinWorkpermitPageRoutingModule {}\n","export default \"<ion-header>\\n\\t<ng-container *ngIf=\\\"!sharedDataService.dedicatedMode\\\">\\n\\t\\t<app-dashboard-header [showPlaceNavigationBtns]=\\\"false\\\" [isCurrentCheckin]=\\\"true\\\" [hideCheckinButton]=\\\"isCheckedIn\\\"></app-dashboard-header>\\n\\n\\t\\t<ion-toolbar style=\\\"padding-top: 0\\\">\\n\\t\\t\\t<ion-back-button icon=\\\"./assets/icon/back.svg\\\" slot=\\\"start\\\" text=\\\"\\\" color=\\\"dark\\\" mode=\\\"md\\\"></ion-back-button>\\n\\t\\t\\t<ion-title class=\\\"ion-text-left\\\">{{pageTitle || ('PAGESPECIFIC_TEXT.FORM_LIST.SPECIFIC_FORMS.WORK_PERMIT_FORM.WORK_PERMIT_FORMS' | translate)}}</ion-title>\\n\\t\\t</ion-toolbar>\\n\\t</ng-container>\\n\\n\\t<ng-container *ngIf=\\\"sharedDataService.dedicatedMode\\\">\\n\\t\\t<app-modal-header-dm\\n\\t\\t\\t[modalTitle]=\\\"sharedDataService.getCurrentCheckedInEntityName()\\\"\\n\\t\\t\\t[modalSubTitle]=\\\"'PAGESPECIFIC_TEXT.FORM_LIST.SPECIFIC_FORMS.WORK_PERMIT_FORM.WORK_PERMIT' | translate\\\"\\n\\t\\t\\t(closeModal)=\\\"back()\\\"\\n\\t\\t></app-modal-header-dm>\\n\\n\\t\\t<ion-toolbar *ngIf=\\\"itemDetail && itemDetail.formFolderID > 0\\\" style=\\\"padding-top: 0\\\">\\n\\t\\t\\t<ion-back-button icon=\\\"./assets/icon/back.svg\\\" slot=\\\"start\\\" text=\\\"\\\" color=\\\"dark\\\" mode=\\\"md\\\"></ion-back-button>\\n\\t\\t\\t<ion-title class=\\\"ion-text-left\\\">{{pageTitle}}</ion-title>\\n\\t\\t</ion-toolbar>\\n\\t</ng-container>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-list *ngIf=\\\"availableWorkPermits && availableWorkPermits.length>0\\\" class=\\\"activity-list\\\" lines=\\\"full\\\">\\n\\t\\t<ng-container *ngFor=\\\"let item of availableWorkPermits\\\">\\n\\t\\t\\t<ion-item *ngIf=\\\"item.formFolderID > 0\\\" (click)=\\\"openFormFolder(item)\\\">\\n\\t\\t\\t\\t<ion-icon slot=\\\"start\\\" [src]=\\\"UtilService.FileIcon('folder')\\\"></ion-icon>\\n\\t\\t\\t\\t<ion-label class=\\\"ion-text-wrap\\\">{{item.formTitle}}</ion-label>\\n\\t\\t\\t</ion-item>\\n\\t\\t</ng-container>\\n\\n\\t\\t<ng-container *ngFor=\\\"let item of availableWorkPermits\\\">\\n\\t\\t\\t<ion-item *ngIf=\\\"item.formID > 0\\\" (click)=\\\"openForm(item)\\\">\\n\\t\\t\\t\\t<ion-icon slot=\\\"start\\\" [src]=\\\"UtilService.FileIcon('form')\\\"></ion-icon>\\n\\t\\t\\t\\t<ion-label>{{item.formTitle}}</ion-label>\\n\\t\\t\\t</ion-item>\\n\\t\\t</ng-container>\\n\\t</ion-list>\\n\\n\\t<ng-container *ngIf=\\\"!availableWorkPermits || availableWorkPermits?.length===0\\\">\\n\\t\\t<app-empty-message [message]=\\\"'PAGESPECIFIC_TEXT.FORM_LIST.SPECIFIC_FORMS.WORK_PERMIT_FORM.NO_PERMITS_AVAILABLE' | translate\\\"></app-empty-message>\\n\\t</ng-container>\\n</ion-content>\\n\";","export default \"ion-toolbar ion-title {\\n  padding-left: 55px;\\n}\\n\\nion-content ion-list.activity-list ion-list-header {\\n  padding: 20px 10px;\\n  align-items: center;\\n  --border-color: #DCE7EF;\\n  --border-width: 1px;\\n  --border-style: solid;\\n}\\n\\nion-content ion-list.activity-list ion-list-header ion-label {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: bold;\\n  font-size: 16px;\\n  line-height: 21px;\\n  color: #444444;\\n  margin: 0;\\n}\\n\\nion-content ion-list.activity-list ion-item {\\n  --border-color: #DCE7EF;\\n  --border-width: 1px;\\n  --border-style: solid;\\n  --padding-top: 12px;\\n  --padding-bottom: 12px;\\n}\\n\\nion-content ion-list.activity-list ion-item ion-label {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: #21092A;\\n}\\n\\nion-content ion-list.activity-list ion-item ion-icon {\\n  width: 22px;\\n  height: 22px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NoZWNraW4td29ya3Blcm1pdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxrQkFBQTtBQUFKOztBQU9JO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQUpOOztBQU1NO0VBQ0UsMEJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7QUFKUjs7QUFRSTtFQUNFLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7QUFOTjs7QUFRTTtFQUNFLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUFOUjs7QUFTTTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBUFIiLCJmaWxlIjoiY2hlY2tpbi13b3JrcGVybWl0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10b29sYmFyIHtcbiAgaW9uLXRpdGxlIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDU1cHg7XG4gIH1cbn1cblxuaW9uLWNvbnRlbnQge1xuICBpb24tbGlzdC5hY3Rpdml0eS1saXN0IHtcblxuICAgIGlvbi1saXN0LWhlYWRlciB7XG4gICAgICBwYWRkaW5nOiAyMHB4IDEwcHg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgLS1ib3JkZXItY29sb3I6ICNEQ0U3RUY7XG4gICAgICAtLWJvcmRlci13aWR0aDogMXB4O1xuICAgICAgLS1ib3JkZXItc3R5bGU6IHNvbGlkO1xuXG4gICAgICBpb24tbGFiZWwge1xuICAgICAgICBmb250LWZhbWlseTogSUJNIFBsZXggU2FucztcbiAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjFweDtcbiAgICAgICAgY29sb3I6ICM0NDQ0NDQ7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpb24taXRlbSB7XG4gICAgICAtLWJvcmRlci1jb2xvcjogI0RDRTdFRjtcbiAgICAgIC0tYm9yZGVyLXdpZHRoOiAxcHg7XG4gICAgICAtLWJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgICAtLXBhZGRpbmctdG9wOiAxMnB4O1xuICAgICAgLS1wYWRkaW5nLWJvdHRvbTogMTJweDtcblxuICAgICAgaW9uLWxhYmVsIHtcbiAgICAgICAgZm9udC1mYW1pbHk6IElCTSBQbGV4IFNhbnM7XG4gICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMThweDtcbiAgICAgICAgY29sb3I6ICMyMTA5MkE7XG4gICAgICB9XG5cbiAgICAgIGlvbi1pY29uIHtcbiAgICAgICAgd2lkdGg6IDIycHg7XG4gICAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckinWorkpermitPageRoutingModule } from './checkin-workpermit-routing.module';\n\nimport { CheckinWorkpermitPage } from './checkin-workpermit.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n\timports: [CommonModule, FormsModule, IonicModule, CheckinWorkpermitPageRoutingModule, ComponentsModule, TranslateModule],\n\tdeclarations: [CheckinWorkpermitPage],\n})\nexport class CheckinWorkpermitPageModule {}\n"]}