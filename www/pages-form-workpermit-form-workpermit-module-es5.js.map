{"version":3,"sources":["webpack:///src/app/pages/form-workpermit/form-workpermit.page.html","webpack:///src/app/pages/form-workpermit/form-workpermit.page.scss","webpack:///src/app/pages/form-workpermit/form-workpermit.page.ts","webpack:///src/app/pages/form-workpermit/form-workpermit.module.ts","webpack:///src/app/pages/form-workpermit/form-workpermit-routing.module.ts"],"names":["FormWorkpermitPage","navCtrl","photoService","sharedDataService","observablesService","modalController","route","filehandlerService","screenOrientation","ngZone","apiService","utilService","accountService","UtilService","EnumService","errorMessage","isSubmitted","list","activityCustomForm","clone","answer","totalPage","isShowOritationPortrait","formBuilderDetail","JSON","parse","questionElementIds","currentQuestionIndex","handleOrientation","dedicatedMode","type","includes","unlock","isLocalHost","lock","ORIENTATIONS","PORTRAIT","screenOrientationSubscribe","onChange","subscribe","run","onScrollEnd","event","scrollingDetail","scrollTop","map","elementId","key","y","document","getElementById","offsetTop","onScroll","detail","scrollToQuestion","content","scrollToPoint","user","userValue","formBuilderDetails","formGroup","sections","questionElementIdsUpdate","addFormControlsForVisibleFields","isOpenImageAnnotation","LANDSCAPE","unsubscribe","create","component","swipeToClose","showBackdrop","backdropDismiss","animated","componentProps","modal","present","onWillDismiss","then","data","onBack","viewFormFor","ViewFormForType","Induction","navigateBack","back","workPermitAnswer","valid","scoreAchieved","section","sectionIndex","shouldShowSection","isSectionDuplicate","QuestionLogic","ActionTypeForForm","Duplicate","questions","question","questionIndex","shouldShowQuestion","controlName","FCUniqueName","selectedAnswerTypeId","CustomAnswerType","SingleChoiceSet","control","controls","answerChoiceAttributes","choice","answerChoiceAttributeId","value","answerChoiceAttributeScoreOrWeight","MultipleChoiceSet","formGroups","choiceControl","SubFCName","workPermitId","workPermitDetails","totalScore","saveFormAnswers","status","result","length","selector","template","FormWorkpermitPageModule","imports","declarations","routes","path","FormWorkpermitPageRoutingModule","forChild","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCyBFA,kBAAkB;AA6B3B,oCACWC,OADX,EAEWC,YAFX,EAGWC,iBAHX,EAIWC,kBAJX,EAKWC,eALX,EAMWC,KANX,EAOYC,kBAPZ,EAQYC,iBARZ,EASYC,MATZ,EAUYC,UAVZ,EAWWC,WAXX,EAYWC,cAZX,EAYyC;AAAA;;AAAA;;AAX9B,eAAAX,OAAA,GAAAA,OAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AACA,eAAAC,kBAAA,GAAAA,kBAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACC,eAAAC,kBAAA,GAAAA,kBAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,UAAA,GAAAA,UAAA;AACD,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AAvCX,eAAAC,WAAA,GAAc,mEAAd;AACA,eAAAC,WAAA,GAAc,mEAAd;AAKA,eAAAC,YAAA,GAAe,EAAf;AAEA,eAAAC,WAAA,GAAc,KAAd;AAIA,eAAAC,IAAA,GAAO,4EAAgBC,kBAAhB,CAAmCC,KAAnC,EAAP;AACA,eAAAC,MAAA,GAAS,EAAT;AAGA,eAAAC,SAAA,GAAY,EAAZ;AAGA,eAAAC,uBAAA,GAA0B,KAA1B;AAEA,eAAAC,iBAAA,GAAoBC,IAAI,CAACC,KAAL,CAAW,+vPAAX,CAApB;AAEA,eAAAC,kBAAA,GAAqB,EAArB;AACA,eAAAC,oBAAA,GAAuB,CAAvB;;AAoCA,eAAAC,iBAAA,GAAoB,YAAM;AACtB,gBAAI,KAAI,CAACzB,iBAAL,CAAuB0B,aAA3B,EAA0C;AACtC,kBAAI,KAAI,CAACrB,iBAAL,CAAuBsB,IAAvB,CAA4BC,QAA5B,CAAqC,WAArC,CAAJ,EAAuD;AACnD,qBAAI,CAACvB,iBAAL,CAAuBwB,MAAvB;;AACA,qBAAI,CAACV,uBAAL,GAA+B,IAA/B;AACH,eAHD,MAGO;AACH,oBAAI,CAAC,oEAAYW,WAAZ,EAAL,EAAgC;AAC5B,uBAAI,CAACzB,iBAAL,CAAuB0B,IAAvB,CAA4B,KAAI,CAAC1B,iBAAL,CAAuB2B,YAAvB,CAAoCC,QAAhE;AACH;AACJ;;AAED,mBAAI,CAACC,0BAAL,GAAkC,KAAI,CAAC7B,iBAAL,CAAuB8B,QAAvB,GAAkCC,SAAlC,CAA4C,YAAM;AAChF,qBAAI,CAAC9B,MAAL,CAAY+B,GAAZ,CAAgB,YAAM;AAClB,sBAAI,KAAI,CAAChC,iBAAL,CAAuBsB,IAAvB,CAA4BC,QAA5B,CAAqC,UAArC,CAAJ,EAAsD;AAClD,wBAAI,CAAC,oEAAYE,WAAZ,EAAL,EAAgC;AAC5B,2BAAI,CAACzB,iBAAL,CAAuB0B,IAAvB,CAA4B,KAAI,CAAC1B,iBAAL,CAAuB2B,YAAvB,CAAoCC,QAAhE;AACH;;AACD,yBAAI,CAACd,uBAAL,GAA+B,KAA/B;AACH;;AACD,sBAAI,KAAI,CAACd,iBAAL,CAAuBsB,IAAvB,CAA4BC,QAA5B,CAAqC,WAArC,CAAJ,EAAuD;AACnD,yBAAI,CAACT,uBAAL,GAA+B,IAA/B;AACH;AACJ,iBAVD;AAWH,eAZiC,CAAlC;AAaH;AACJ,WAzBD;;AAkJA,eAAAmB,WAAA,GAAc,UAACC,KAAD,EAAW;AACrB,gBAAI,KAAI,CAACC,eAAT,EAA0B;AACtB,kBAAMC,SAAS,GAAG,KAAI,CAACD,eAAL,CAAqBC,SAAvC;;AACA,kBAAIA,SAAS,KAAK,CAAlB,EAAqB;AACjB,qBAAI,CAACjB,oBAAL,GAA4B,CAA5B;AACH,eAFD,MAEO;AACH,qBAAI,CAACD,kBAAL,CAAwBmB,GAAxB,CAA4B,UAACC,SAAD,EAAYC,GAAZ,EAAoB;AAC5C,sBAAMC,CAAC,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,SAAxB,EAAmCK,SAA7C;;AACA,sBAAIP,SAAS,IAAII,CAAjB,EAAoB;AAChB,yBAAI,CAACrB,oBAAL,GAA4BoB,GAA5B;AACA;AACH;AACJ,iBAND;AAOH;AACJ;AACJ,WAfD;;AAiBA,eAAAK,QAAA,GAAW,UAACV,KAAD,EAAW;AAClB,iBAAI,CAACC,eAAL,GAAuBD,KAAK,CAACW,MAA7B;AACH,WAFD;;AAIA,eAAAC,gBAAA,GAAmB,YAAM;AACrB,gBAAMR,SAAS,GAAG,KAAI,CAACpB,kBAAL,CAAwB,KAAI,CAACC,oBAA7B,CAAlB;AACA,gBAAMqB,CAAC,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,SAAxB,EAAmCK,SAA7C;;AACA,iBAAI,CAACI,OAAL,CAAaC,aAAb,CAA2B,CAA3B,EAA8BR,CAA9B,EAAiC,GAAjC;AACH,WAJD;;AA1LI,eAAKS,IAAL,GAAY7C,cAAc,CAAC8C,SAA3B;;AAEA,cAAIvD,iBAAiB,CAACwD,kBAAtB,EAA0C;AACtC,iBAAKpC,iBAAL,GAAyBpB,iBAAiB,CAACwD,kBAA3C;AACH,WANoC,CASrC;;;AACA,eAAKC,SAAL,GAAiB,IAAI,wDAAJ,CAAc,EAAd,CAAjB;AACA,cAAMC,QAAQ,GAAG,KAAKtC,iBAAL,CAAuBsC,QAAxC;;AACA,eAAKlD,WAAL,CAAiBmD,wBAAjB,GAA4C,UAACpC,kBAAD,EAAwB;AAChE,iBAAI,CAACA,kBAAL,GAA0BA,kBAA1B;AACH,WAFD;;AAGA,eAAKf,WAAL,CAAiBoD,+BAAjB,CAAiDF,QAAjD,EAA2D,KAAKD,SAAhE,EAfqC,CAgBrC;AAGH;;AA5D0B;AAAA;AAAA,4CAyFT;AACd,iBAAKzD,iBAAL,CAAuB6D,qBAAvB,GAA+C,KAA/C;AACH;AA3F0B;AAAA;AAAA,6CA6FR;AACf,iBAAKpC,iBAAL;AACH;AA/F0B;AAAA;AAAA,4CAiGZ;AACX,gBAAI,KAAKzB,iBAAL,CAAuB0B,aAA3B,EAA0C;AACtC,kBAAI,CAAC,KAAK1B,iBAAL,CAAuB6D,qBAA5B,EAAmD;AAC/C,oBAAI,CAAC,oEAAY/B,WAAZ,EAAL,EAAgC;AAC5B,uBAAKzB,iBAAL,CAAuB0B,IAAvB,CAA4B,KAAK1B,iBAAL,CAAuB2B,YAAvB,CAAoC8B,SAAhE;AACA,uBAAK5B,0BAAL,CAAgC6B,WAAhC;AACH;AACJ;AACJ;AACJ;AA1G0B;AAAA;AAAA,oCA4GX;;;;;;;;;;AACE,6BAAM,KAAK7D,eAAL,CAAqB8D,MAArB,CAA4B;AAC5CC,iCAAS,EAAE,sGADiC;AAE5CC,oCAAY,EAAE,KAF8B;AAG5CC,oCAAY,EAAE,KAH8B;AAI5CC,uCAAe,EAAE,KAJ2B;AAK5CC,gCAAQ,EAAE,IALkC;AAM5CC,sCAAc,EAAE;AAN4B,uBAA5B,CAAN;;;AAARC,2B;;AAQN,6BAAMA,KAAK,CAACC,OAAN,EAAN;;;AAEAD,2BAAK,CAACE,aAAN,GAAsBC,IAAtB,CAA2B,gBAAY;AAAA,4BAAVC,IAAU,QAAVA,IAAU;;AACnC,4BAAIA,IAAJ,EAAU;AACN,gCAAI,CAACC,MAAL;AACH;AACJ,uBAJD;;;;;;;;;AAKH;AA5H0B;AAAA;AAAA,mCA8HlB;AACL,gBAAI,KAAK5E,iBAAL,CAAuB6E,WAAvB,KAAuC,oEAAYC,eAAZ,CAA4BC,SAAvE,EAAkF;AAC9E,mBAAKjF,OAAL,CAAakF,YAAb,CAA0B,qBAA1B;AACH,aAFD,MAEO;AACH,mBAAKlF,OAAL,CAAamF,IAAb;AACH;AACJ;AApI0B;AAAA;AAAA,qCAsIhB;AAAA;;AACP,iBAAKpE,WAAL,GAAmB,IAAnB;AACA,iBAAKD,YAAL,GAAoB,EAApB;AAEA,gBAAIsE,gBAAJ;;AACA,gBAAI,KAAKzB,SAAL,CAAe0B,KAAnB,EAA0B;AAEtB;AACA,kBAAIC,aAAa,GAAG,CAApB;AACA,kBAAM1B,QAAQ,GAAG,KAAKtC,iBAAL,CAAuBsC,QAAxC;;AACA,kBAAIA,QAAJ,EAAc;AACVA,wBAAQ,CAAChB,GAAT,CAAa,UAAC2C,OAAD,EAAUC,YAAV,EAA2B;AACpC,sBAAI,MAAI,CAAC9E,WAAL,CAAiB+E,iBAAjB,CAAmCF,OAAnC,CAAJ,EAAiD;AAC7C,wBAAMG,kBAAkB,GAAGH,OAAO,CAAC,oEAAYI,aAAZ,CAA0BC,iBAA1B,CAA4CC,SAA7C,CAAlC;AAEA,wBAAMC,SAAS,GAAGP,OAAO,CAACO,SAA1B;AACAA,6BAAS,CAAClD,GAAV,CAAc,UAACmD,QAAD,EAAWC,aAAX,EAA6B;AACvC,0BAAI,MAAI,CAACtF,WAAL,CAAiBuF,kBAAjB,CAAoCF,QAApC,CAAJ,EAAmD;AAC/C,4BAAMG,WAAW,GAAG,oEAAYC,YAAZ,CAAyBZ,OAAzB,EAAkCQ,QAAlC,CAApB;;AAEA,4BAAIA,QAAQ,CAACK,oBAAT,KAAkC,oEAAYC,gBAAZ,CAA6BC,eAAnE,EAAoF;AAChF,8BAAMC,OAAO,GAAG,MAAI,CAAC5C,SAAL,CAAe6C,QAAf,CAAwBN,WAAxB,CAAhB;AACAH,kCAAQ,CAACU,sBAAT,CAAgC7D,GAAhC,CAAoC,UAAC8D,MAAD,EAAY;AAC5C,gCAAIA,MAAM,CAACC,uBAAP,KAAmCJ,OAAO,CAACK,KAA/C,EAAsD;AAClDtB,2CAAa,GAAGA,aAAa,GAAGoB,MAAM,CAACG,kCAAvC;AACH;AACJ,2BAJD;AAKH,yBAPD,MAOO,IAAId,QAAQ,CAACK,oBAAT,KAAkC,oEAAYC,gBAAZ,CAA6BS,iBAAnE,EAAsF;AACzF,8BAAMP,QAAO,GAAG,MAAI,CAAC5C,SAAL,CAAe6C,QAAf,CAAwBN,WAAxB,CAAhB;AACA,8BAAMa,UAAU,GAAGR,QAAO,CAACK,KAA3B;AACAb,kCAAQ,CAACU,sBAAT,CAAgC7D,GAAhC,CAAoC,UAAC8D,MAAD,EAAY;AAC5C,gCAAMM,aAAa,GAAGD,UAAU,CAAC,oEAAYE,SAAZ,CAAsBf,WAAtB,EAAmCQ,MAAM,CAACC,uBAA1C,CAAD,CAAhC;;AACA,gCAAIK,aAAJ,EAAmB;AACf1B,2CAAa,GAAGA,aAAa,GAAGoB,MAAM,CAACG,kCAAvC;AACH;AACJ,2BALD;AAMH;AACJ;AACJ,qBAtBD;AAuBH;AACJ,iBA7BD;AA8BH;;AAEDzB,8BAAgB,GAAG;AACf8B,4BAAY,EAAE,KAAK5F,iBAAL,CAAuB6F,iBAAvB,CAAyCD,YADxC;AAEf5B,6BAAa,EAAbA,aAFe;AAGf8B,0BAAU,EAAE,KAAK9F,iBAAL,CAAuB6F,iBAAvB,CAAyCC;AAHtC,eAAnB;AAKH;;AAED,iBAAKlH,iBAAL,CAAuBmH,eAAvB,CAAuC,KAAK5G,UAA5C,EAAwD,KAAKkD,SAA7D,EAAwE,KAAKrC,iBAA7E,EAAgG,KAAKkC,IAArG,EAA2G,UAAC8D,MAAD,EAASC,MAAT,EAAoB;AAC3H,kBAAID,MAAJ,EAAY,CAEX,CAFD,MAEO;AACH,sBAAI,CAACxG,YAAL,GAAoByG,MAApB;AACH;AACJ,aAND,EAMG,IANH,EAMSnC,gBANT;AAOH,WA/L0B,CAiM3B;;AAjM2B;AAAA;AAAA,qCAkMhB;AACP,gBAAI,KAAK1D,oBAAL,GAA4B,CAAhC,EAAmC;AAC/B,mBAAKA,oBAAL;AACA,mBAAK2B,gBAAL;AACH;AACJ;AAvM0B;AAAA;AAAA,iCAyMpB;AACH,gBAAI,KAAK3B,oBAAL,GAA4B,KAAKD,kBAAL,CAAwB+F,MAAxB,GAAiC,CAAjE,EAAoE;AAChE,mBAAK9F,oBAAL;AACA,mBAAK2B,gBAAL;AACH;AACJ;AA9M0B;;AAAA;AAAA,S;;;;gBArBM;;gBAC7B;;gBACA;;gBACA;;gBAHY;;gBAIZ;;gBACA;;gBACA;;gBAVW;;gBAWX;;gBACA;;gBACA;;;;;;gBAaH,uD;AAAS,iBAAC,yDAAD;;;AADDtD,wBAAkB,6DAL9B,gEAAU;AACP0H,gBAAQ,EAAE,qBADH;AAEPC,gBAAQ,EAAR,6EAFO;;AAAA,OAAV,CAK8B,GAAlB3H,kBAAkB,CAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCHA4H,wBAAwB;AAAA;AAAA,O;;AAAxBA,8BAAwB,6DAXpC,+DAAS;AACNC,eAAO,EAAE,CACL,4DADK,EAEL,0DAFK,EAGL,0DAHK,EAIL,+FAJK,EAKL,8EALK,EAML,kEANK,CADH;AASRC,oBAAY,EAAE,CAAC,wEAAD;AATN,OAAT,CAWoC,GAAxBF,wBAAwB,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBb,UAAMG,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEE5D,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWa6D,+BAA+B;AAAA;AAAA,O;;AAA/BA,qCAA+B,6DAJ3C,+DAAS;AACRJ,eAAO,EAAE,CAAC,6DAAaK,QAAb,CAAsBH,MAAtB,CAAD,CADD;AAERI,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAI2C,GAA/BF,+BAA+B,CAA/B","file":"pages-form-workpermit-form-workpermit-module-es5.js","sourcesContent":["export default \"<app-portrait-orientation *ngIf=\\\"isShowOritationPortrait;else formView\\\"\\n                          (close)=\\\"isShowOritationPortrait=false\\\"></app-portrait-orientation>\\n\\n<ng-template #formView>\\n    <ion-header mode=\\\"ios\\\">\\n        <ng-container *ngIf=\\\"sharedDataService.dedicatedMode; else personalMode\\\">\\n            <app-modal-header-dm [modalTitle]=\\\"sharedDataService.getCurrentCheckedInEntityName()\\\"\\n                                 (closeModal)=\\\"onClose()\\\"\\n                                 [modalSubTitle]=\\\"formBuilderDetail?.title\\\"></app-modal-header-dm>\\n        </ng-container>\\n\\n        <ng-template #personalMode>\\n            <app-modal-header [modalTitle]=\\\"formBuilderDetail?.title\\\" (closeModal)=\\\"onClose()\\\"></app-modal-header>\\n\\n            <app-next-prev-toolbar [isError]=\\\"(errorMessage && errorMessage.length>0)\\\"\\n                                   [currentCount]=\\\"currentQuestionIndex\\\"\\n                                   [totalCount]=\\\"questionElementIds.length\\\" (next)=\\\"next()\\\"\\n                                   (previous)=\\\"previous()\\\"></app-next-prev-toolbar>\\n        </ng-template>\\n\\n        <app-warning-component *ngIf=\\\"errorMessage\\\" [message]=\\\"errorMessage\\\"></app-warning-component>\\n\\n    </ion-header>\\n\\n\\n    <ion-content\\n        #content\\n        [scrollEvents]=\\\"true\\\"\\n        (ionScrollEnd)=\\\"onScrollEnd($event)\\\"\\n        (ionScroll)=\\\"onScroll($event)\\\"\\n        mode=\\\"ios\\\"\\n        [ngClass]=\\\"{'dedicated-mode':sharedDataService.dedicatedMode}\\\">\\n\\n\\n        <div class=\\\"content-container\\\">\\n\\n            <Form [formGroup]=\\\"formGroup\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n\\n                <ion-list lines=\\\"none\\\" mode=\\\"ios\\\">\\n                    <ng-container *ngFor=\\\"let section of formBuilderDetail?.sections; let sectionIndex = index;\\\">\\n                        <ng-container *ngIf=\\\"utilService.shouldShowSection(section)\\\">\\n                            <app-section-title\\n                                    [title]=\\\"UtilService.findObj(section.sectionTranslations, 'sectionTranslationLanguageId', sharedDataService.getLanguageIdForForm()).sectionTranslationTitle\\\">\\n                            </app-section-title>\\n\\n                            <app-custom-questions-container\\n                                    [sectionIndex]=\\\"sectionIndex\\\"\\n                                    [sectionId]=\\\"section.sectionId\\\"\\n                                    [questionElementIds]=\\\"questionElementIds\\\"\\n                                    [questions]=\\\"section.questions\\\"\\n                                    [isSubmitted]=\\\"isSubmitted\\\"\\n                                    [formGroup]=\\\"formGroup\\\"\\n                                    [section]=\\\"section\\\"\\n                            ></app-custom-questions-container>\\n                        </ng-container>\\n                    </ng-container>\\n\\n                    <!--        End of form -->\\n                    <ng-container *ngIf=\\\"!sharedDataService.dedicatedMode\\\">\\n\\n                        <div class=\\\"hr-line-full ion-margin-top\\\"></div>\\n\\n                        <ion-item class=\\\"ion-margin-vertical text-bottom-msg\\\">\\n                            <ion-label class=\\\"ion-text-wrap ion-text-center\\\">\\n                                You've reached the end of the form.\\n                                Please check your answers and sign-off.\\n                            </ion-label>\\n                        </ion-item>\\n\\n                        <ion-item class=\\\"ion-margin-vertical ion-padding-bottom\\\">\\n                            <ion-button type=\\\"submit\\\" expand=\\\"full\\\" class=\\\"action-btn\\\">Sign-Off</ion-button>\\n                        </ion-item>\\n\\n                    </ng-container>\\n\\n\\n                </ion-list>\\n            </Form>\\n\\n            <div class=\\\"fill-vertical-space\\\"></div>\\n\\n            <!--        End of form -->\\n            <ng-container *ngIf=\\\"sharedDataService.dedicatedMode\\\">\\n                <ion-item class=\\\"text-bottom-msg\\\" lines=\\\"none\\\">\\n                    <ion-label class=\\\"ion-text-wrap ion-padding\\\">\\n                        You've reached the end of the form.\\n                        Please check your answers and sign-off.\\n                    </ion-label>\\n                    <ion-button slot=\\\"end\\\" class=\\\"action-btn\\\" (click)=\\\"onSubmit()\\\">Sign-Off</ion-button>\\n                </ion-item>\\n            </ng-container>\\n        </div>\\n\\n    </ion-content>\\n</ng-template>\\n\\n\\n\\n\";","export default \"ion-content.dedicated-mode {\\n  --background: #F6F9FB;\\n}\\nion-content.dedicated-mode ion-list {\\n  width: 70%;\\n  border-radius: 12px;\\n  margin: 20px auto 0;\\n}\\nion-content.dedicated-mode .text-bottom-msg {\\n  box-shadow: 0px 0 20px rgba(0, 0, 0, 0.3);\\n  margin-top: 40px;\\n  color: #171538;\\n  padding: 0 16px;\\n  background-color: #ffffff;\\n}\\nion-content.dedicated-mode .text-bottom-msg ion-label {\\n  padding: 16px 0;\\n}\\nion-content.dedicated-mode .text-bottom-msg .action-btn {\\n  width: 200px;\\n  margin: 0;\\n  margin-left: 16px;\\n}\\nion-content ion-list .hr-line {\\n  margin: 0 23px 16px;\\n  width: auto;\\n  height: 1px;\\n  background-color: rgba(74, 144, 226, 0.2);\\n}\\nion-content ion-list .hr-line-full {\\n  width: 100%;\\n  height: 1px;\\n  background-color: rgba(74, 144, 226, 0.2);\\n}\\nion-content ion-list .text-bottom-msg {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 18px;\\n  text-align: center;\\n  color: #171538;\\n  padding: 16px 32px;\\n}\\nion-content ion-list .action-btn {\\n  width: 100%;\\n  margin: 0;\\n  --border-radius: 3px;\\n  border-radius: 3px;\\n  overflow: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Zvcm0td29ya3Blcm1pdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0U7RUFDRSxxQkFBQTtBQUZKO0FBSUk7RUFDRSxVQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtBQUZOO0FBS0k7RUFDRSx5Q0FBQTtFQUVBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtBQUpOO0FBTU07RUFDRSxlQUFBO0FBSlI7QUFPTTtFQUNFLFlBQUE7RUFDQSxTQUFBO0VBQ0EsaUJBQUE7QUFMUjtBQVlJO0VBQ0UsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHlDQUFBO0FBVk47QUFhSTtFQUNFLFdBQUE7RUFDQSxXQUFBO0VBQ0EseUNBQUE7QUFYTjtBQWVJO0VBQ0UsMEJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFiTjtBQWdCSTtFQUNFLFdBQUE7RUFDQSxTQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBZE4iLCJmaWxlIjoiZm9ybS13b3JrcGVybWl0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiRwYWRkaW5nSG9yaXpvbnRhbDogMjNweDtcblxuaW9uLWNvbnRlbnQge1xuICAmLmRlZGljYXRlZC1tb2RlIHtcbiAgICAtLWJhY2tncm91bmQ6ICNGNkY5RkI7XG5cbiAgICBpb24tbGlzdCB7XG4gICAgICB3aWR0aDogNzAlO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgIG1hcmdpbjogMjBweCBhdXRvIDA7XG4gICAgfVxuXG4gICAgLnRleHQtYm90dG9tLW1zZyB7XG4gICAgICBib3gtc2hhZG93OiAwcHggMCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcblxuICAgICAgbWFyZ2luLXRvcDogNDBweDtcbiAgICAgIGNvbG9yOiAjMTcxNTM4O1xuICAgICAgcGFkZGluZzogMCAxNnB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcblxuICAgICAgaW9uLWxhYmVsIHtcbiAgICAgICAgcGFkZGluZzogMTZweCAwO1xuICAgICAgfVxuXG4gICAgICAuYWN0aW9uLWJ0biB7XG4gICAgICAgIHdpZHRoOiAyMDBweDtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBtYXJnaW4tbGVmdDogMTZweDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpb24tbGlzdCB7XG5cbiAgICAuaHItbGluZSB7XG4gICAgICBtYXJnaW46IDAgJHBhZGRpbmdIb3Jpem9udGFsIDE2cHg7XG4gICAgICB3aWR0aDogYXV0bztcbiAgICAgIGhlaWdodDogMXB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg3NCwgMTQ0LCAyMjYsIDAuMik7XG4gICAgfVxuXG4gICAgLmhyLWxpbmUtZnVsbCB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMXB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg3NCwgMTQ0LCAyMjYsIDAuMik7XG4gICAgfVxuXG5cbiAgICAudGV4dC1ib3R0b20tbXNnIHtcbiAgICAgIGZvbnQtZmFtaWx5OiBJQk0gUGxleCBTYW5zO1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgY29sb3I6ICMxNzE1Mzg7XG4gICAgICBwYWRkaW5nOiAxNnB4IDMycHg7XG4gICAgfVxuXG4gICAgLmFjdGlvbi1idG4ge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICAtLWJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgfVxuXG5cbiAgfVxuXG59XG4iXX0= */\";","import {Component, NgZone, OnInit, ViewChild} from '@angular/core';\nimport {User} from '../../_models';\nimport {FormGroup} from '@angular/forms';\nimport {DemoDataService} from '../../services/demo-data.service';\nimport {IonContent, ModalController, NavController} from '@ionic/angular';\nimport {PhotoService} from '../../services/photo.service';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {ObservablesService} from '../../services/observables.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {FilehandlerService} from '../../services/filehandler.service';\nimport {ScreenOrientation} from '@ionic-native/screen-orientation/ngx';\nimport {ApiService} from '../../services/api.service';\nimport {UtilService} from '../../services/util.service';\nimport {AccountService} from '../../services/account.service';\nimport {ExitConfirmationPage} from '../../modals/exit-confirmation/exit-confirmation.page';\nimport {HavExposure} from '../../_models/havExposure';\nimport {HavModelItem} from '../../_models/havModelItem';\nimport {WorkPermitAnswer} from '../../_models/workPermitAnswer';\nimport {EnumService} from '../../services/enum.service';\n\n@Component({\n    selector: 'app-form-workpermit',\n    templateUrl: './form-workpermit.page.html',\n    styleUrls: ['./form-workpermit.page.scss'],\n})\nexport class FormWorkpermitPage {\n    @ViewChild(IonContent) content: IonContent;\n    UtilService = UtilService;\n    EnumService = EnumService;\n\n\n    user: User;\n\n    errorMessage = '';\n\n    isSubmitted = false;\n    formGroup: FormGroup;\n\n\n    list = DemoDataService.activityCustomForm.clone();\n    answer = {};\n\n\n    totalPage = 32;\n\n    screenOrientationSubscribe;\n    isShowOritationPortrait = false;\n\n    formBuilderDetail = JSON.parse('{\"formId\":124,\"title\":\"Work Permit Two\",\"description\":null,\"formVersionId\":203,\"formVersionNo\":5,\"isDraft\":false,\"formTypeID\":3,\"companyId\":27,\"defaultLanguageId\":35,\"sections\":[{\"sectionId\":218,\"sectionIsHidden\":true,\"sectionDisplayOrder\":1,\"isRiskAssessmentSection\":false,\"isHAVSection\":false,\"isAccidentReportSection\":false,\"sectionTranslations\":[{\"sectionTranslationId\":321,\"sectionTranslationLanguageId\":35,\"sectionTranslationTitle\":\"Section One\"}],\"questions\":[{\"questionId\":499,\"questionIsHidden\":false,\"questionIsRequired\":false,\"allowInstructionOrNote\":false,\"allowTextLabel\":false,\"shouldShowOptionalComment\":false,\"allowAttachment\":false,\"allowQuestionLogic\":false,\"isExistingFile\":false,\"shouldShowAnswerChoiceTemplate\":false,\"selectedAnswerTypeId\":1,\"questionDisplayOrder\":1,\"sectionID\":218,\"questionTranslations\":[{\"questionTranslationId\":577,\"questionTranslationLanguageId\":35,\"questionTranslationTitle\":\"Single Choice\",\"questionTranslationInstructionOrNote\":\"\",\"questionTranslationTextLabel\":\"\"}],\"answerChoiceAttributes\":[{\"answerChoiceAttributeId\":550,\"answerChoiceAttributeText\":null,\"answerChoiceAttributeColor\":\"white\",\"answerChoiceAttributeScoreOrWeight\":10,\"answerChoiceAttributeHeaders\":[{\"answerChoiceAttributeHeaderId\":669,\"answerChoiceAttributeHeaderLanguageId\":35,\"answerChoiceAttributeHeaderTitle\":\"Correct\"}]},{\"answerChoiceAttributeId\":551,\"answerChoiceAttributeText\":null,\"answerChoiceAttributeColor\":\"white\",\"answerChoiceAttributeScoreOrWeight\":0,\"answerChoiceAttributeHeaders\":[{\"answerChoiceAttributeHeaderId\":670,\"answerChoiceAttributeHeaderLanguageId\":35,\"answerChoiceAttributeHeaderTitle\":\"Wrong\"}]}],\"questionLogics\":[],\"questionAttachments\":[]},{\"questionId\":500,\"questionIsHidden\":true,\"questionIsRequired\":false,\"allowInstructionOrNote\":false,\"allowTextLabel\":false,\"shouldShowOptionalComment\":false,\"allowAttachment\":false,\"allowQuestionLogic\":false,\"isExistingFile\":false,\"shouldShowAnswerChoiceTemplate\":false,\"selectedAnswerTypeId\":2,\"questionDisplayOrder\":2,\"sectionID\":218,\"questionTranslations\":[{\"questionTranslationId\":578,\"questionTranslationLanguageId\":35,\"questionTranslationTitle\":\"Multiple Choice\",\"questionTranslationInstructionOrNote\":\"\",\"questionTranslationTextLabel\":\"\"}],\"answerChoiceAttributes\":[{\"answerChoiceAttributeId\":552,\"answerChoiceAttributeText\":null,\"answerChoiceAttributeColor\":\"white\",\"answerChoiceAttributeScoreOrWeight\":10,\"answerChoiceAttributeHeaders\":[{\"answerChoiceAttributeHeaderId\":671,\"answerChoiceAttributeHeaderLanguageId\":35,\"answerChoiceAttributeHeaderTitle\":\"Correct\"}]},{\"answerChoiceAttributeId\":553,\"answerChoiceAttributeText\":null,\"answerChoiceAttributeColor\":\"white\",\"answerChoiceAttributeScoreOrWeight\":10,\"answerChoiceAttributeHeaders\":[{\"answerChoiceAttributeHeaderId\":672,\"answerChoiceAttributeHeaderLanguageId\":35,\"answerChoiceAttributeHeaderTitle\":\"Correct\"}]},{\"answerChoiceAttributeId\":554,\"answerChoiceAttributeText\":null,\"answerChoiceAttributeColor\":\"white\",\"answerChoiceAttributeScoreOrWeight\":0,\"answerChoiceAttributeHeaders\":[{\"answerChoiceAttributeHeaderId\":673,\"answerChoiceAttributeHeaderLanguageId\":35,\"answerChoiceAttributeHeaderTitle\":\"Wrong\"}]}],\"questionLogics\":[],\"questionAttachments\":[]}],\"tasks\":[]},{\"sectionId\":219,\"sectionIsHidden\":false,\"sectionDisplayOrder\":2,\"isRiskAssessmentSection\":false,\"isHAVSection\":false,\"isAccidentReportSection\":false,\"sectionTranslations\":[{\"sectionTranslationId\":322,\"sectionTranslationLanguageId\":35,\"sectionTranslationTitle\":\"Section Two\"}],\"questions\":[{\"questionId\":501,\"questionIsHidden\":false,\"questionIsRequired\":false,\"allowInstructionOrNote\":false,\"allowTextLabel\":false,\"shouldShowOptionalComment\":false,\"allowAttachment\":false,\"allowQuestionLogic\":false,\"isExistingFile\":false,\"shouldShowAnswerChoiceTemplate\":false,\"selectedAnswerTypeId\":3,\"questionDisplayOrder\":1,\"sectionID\":219,\"questionTranslations\":[{\"questionTranslationId\":579,\"questionTranslationLanguageId\":35,\"questionTranslationTitle\":\"Single Line Text\",\"questionTranslationInstructionOrNote\":\"\",\"questionTranslationTextLabel\":\"\"}],\"answerChoiceAttributes\":[],\"questionLogics\":[],\"questionAttachments\":[]},{\"questionId\":502,\"questionIsHidden\":false,\"questionIsRequired\":false,\"allowInstructionOrNote\":false,\"allowTextLabel\":false,\"shouldShowOptionalComment\":false,\"allowAttachment\":false,\"allowQuestionLogic\":false,\"isExistingFile\":false,\"shouldShowAnswerChoiceTemplate\":false,\"selectedAnswerTypeId\":4,\"questionDisplayOrder\":2,\"sectionID\":219,\"questionTranslations\":[{\"questionTranslationId\":580,\"questionTranslationLanguageId\":35,\"questionTranslationTitle\":\"Multi Line Text\",\"questionTranslationInstructionOrNote\":\"\",\"questionTranslationTextLabel\":\"\"}],\"answerChoiceAttributes\":[],\"questionLogics\":[],\"questionAttachments\":[]},{\"questionId\":503,\"questionIsHidden\":true,\"questionIsRequired\":false,\"allowInstructionOrNote\":true,\"allowTextLabel\":false,\"shouldShowOptionalComment\":false,\"allowAttachment\":false,\"allowQuestionLogic\":false,\"isExistingFile\":false,\"shouldShowAnswerChoiceTemplate\":false,\"selectedAnswerTypeId\":6,\"questionDisplayOrder\":3,\"sectionID\":219,\"questionTranslations\":[{\"questionTranslationId\":581,\"questionTranslationLanguageId\":35,\"questionTranslationTitle\":\"Decimal Point\",\"questionTranslationInstructionOrNote\":\"For eg 1.10\",\"questionTranslationTextLabel\":\"\"}],\"answerChoiceAttributes\":[],\"questionLogics\":[],\"questionAttachments\":[]},{\"questionId\":504,\"questionIsHidden\":false,\"questionIsRequired\":false,\"allowInstructionOrNote\":true,\"allowTextLabel\":false,\"shouldShowOptionalComment\":true,\"allowAttachment\":false,\"allowQuestionLogic\":false,\"isExistingFile\":false,\"shouldShowAnswerChoiceTemplate\":false,\"selectedAnswerTypeId\":5,\"questionDisplayOrder\":4,\"sectionID\":219,\"questionTranslations\":[{\"questionTranslationId\":582,\"questionTranslationLanguageId\":35,\"questionTranslationTitle\":\"Integer value\",\"questionTranslationInstructionOrNote\":\"For eg 1\",\"questionTranslationTextLabel\":\"\"}],\"answerChoiceAttributes\":[],\"questionLogics\":[],\"questionAttachments\":[]}],\"tasks\":[]}],\"selectedLanguage\":null,\"selectedLanguages\":[{\"languageId\":35,\"languageLabel\":\"English\"}],\"supportedLanguages\":[],\"answerTypes\":[],\"answerChoiceColors\":null,\"hourFormats\":null,\"questionActionOnList\":null,\"questionActionTypes\":null,\"questionChoiceSetTypes\":null,\"questionOperatorTypes\":null,\"userList\":null,\"groupList\":null,\"workPermitDetails\":{\"workPermitId\":26,\"totalScore\":10,\"hasExpirationDate\":true,\"hasExpiresOn\":true,\"expiresOnDate\":\"01/12/2020\",\"hasExpiresAfter\":false,\"durationValue\":null,\"hasPermitIssuedNotification\":false,\"hasPermitNotIssuedNotification\":false,\"operatorTypeID\":2,\"durationTypeID\":null,\"permitIssuedNotificationID\":null,\"permitNotIssuedNotificationID\":null,\"formVersionID\":203,\"permitNotIssuedNotification\":{\"notifyUser\":true,\"selectedUserId\":\"00000000-0000-0000-0000-000000000000\",\"selectedUsers\":[],\"notifyGroup\":false,\"selectedGroupId\":0,\"selectedGroups\":[],\"isSystemNotification\":true,\"isEmailNotification\":false,\"isSMSNotification\":false,\"selectedUsersAndGroups\":[]},\"permitIssuedNotification\":{\"notifyUser\":true,\"selectedUserId\":\"00000000-0000-0000-0000-000000000000\",\"selectedUsers\":[],\"notifyGroup\":false,\"selectedGroupId\":0,\"selectedGroups\":[],\"isSystemNotification\":true,\"isEmailNotification\":false,\"isSMSNotification\":false,\"selectedUsersAndGroups\":[]}},\"accidentReport\":{\"accidentReportId\":0,\"hasAccidentNotification\":false,\"notificationID\":null,\"formVersionID\":0,\"accidentNotification\":{\"notifyUser\":true,\"selectedUserId\":\"00000000-0000-0000-0000-000000000000\",\"selectedUsers\":[],\"notifyGroup\":false,\"selectedGroupId\":0,\"selectedGroups\":[],\"isSystemNotification\":true,\"isEmailNotification\":false,\"isSMSNotification\":false,\"selectedUsersAndGroups\":[]}},\"modifiedBy\":\"00000000-0000-0000-0000-000000000000\",\"folderDocumentList\":null,\"folderDocumentTreeList\":null,\"signedUsers\":[{\"userId\":\"e243237f-3147-4810-9dbd-6f5ea7bffb30\",\"userName\":\"Demo Two App\"}],\"taskTemplates\":[]}');\n\n    questionElementIds = [];\n    currentQuestionIndex = 0;\n    scrollingDetail: any;\n\n    constructor(\n        public navCtrl: NavController,\n        public photoService: PhotoService,\n        public sharedDataService: SharedDataService,\n        public observablesService: ObservablesService,\n        public modalController: ModalController,\n        public route: ActivatedRoute,\n        private filehandlerService: FilehandlerService,\n        private screenOrientation: ScreenOrientation,\n        private ngZone: NgZone,\n        private apiService: ApiService,\n        public utilService: UtilService,\n        public accountService: AccountService,\n    ) {\n        this.user = accountService.userValue;\n\n        if (sharedDataService.formBuilderDetails) {\n            this.formBuilderDetail = sharedDataService.formBuilderDetails;\n        }\n\n\n        // Add form controls for each type of fields\n        this.formGroup = new FormGroup({});\n        const sections = this.formBuilderDetail.sections;\n        this.utilService.questionElementIdsUpdate = (questionElementIds) => {\n            this.questionElementIds = questionElementIds;\n        };\n        this.utilService.addFormControlsForVisibleFields(sections, this.formGroup);\n        // -- End -- Add form controls for each type of fields\n\n\n    }\n\n    handleOrientation = () => {\n        if (this.sharedDataService.dedicatedMode) {\n            if (this.screenOrientation.type.includes('landscape')) {\n                this.screenOrientation.unlock();\n                this.isShowOritationPortrait = true;\n            } else {\n                if (!UtilService.isLocalHost()) {\n                    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n                }\n            }\n\n            this.screenOrientationSubscribe = this.screenOrientation.onChange().subscribe(() => {\n                this.ngZone.run(() => {\n                    if (this.screenOrientation.type.includes('portrait')) {\n                        if (!UtilService.isLocalHost()) {\n                            this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n                        }\n                        this.isShowOritationPortrait = false;\n                    }\n                    if (this.screenOrientation.type.includes('landscape')) {\n                        this.isShowOritationPortrait = true;\n                    }\n                });\n            });\n        }\n    };\n\n    ionViewDidEnter() {\n        this.sharedDataService.isOpenImageAnnotation = false;\n    }\n\n    ionViewWillEnter() {\n        this.handleOrientation();\n    }\n\n    ionViewDidLeave(): void {\n        if (this.sharedDataService.dedicatedMode) {\n            if (!this.sharedDataService.isOpenImageAnnotation) {\n                if (!UtilService.isLocalHost()) {\n                    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE);\n                    this.screenOrientationSubscribe.unsubscribe();\n                }\n            }\n        }\n    }\n\n    async onClose() {\n        const modal = await this.modalController.create({\n            component: ExitConfirmationPage,\n            swipeToClose: false,\n            showBackdrop: false,\n            backdropDismiss: false,\n            animated: true,\n            componentProps: {}\n        });\n        await modal.present();\n\n        modal.onWillDismiss().then(({data}) => {\n            if (data) {\n                this.onBack();\n            }\n        });\n    }\n\n    onBack() {\n        if (this.sharedDataService.viewFormFor === EnumService.ViewFormForType.Induction) {\n            this.navCtrl.navigateBack('/checkinout-confirm');\n        } else {\n            this.navCtrl.back();\n        }\n    }\n\n    onSubmit() {\n        this.isSubmitted = true;\n        this.errorMessage = '';\n\n        let workPermitAnswer: WorkPermitAnswer;\n        if (this.formGroup.valid) {\n\n            // Calculate score for work permit\n            let scoreAchieved = 0;\n            const sections = this.formBuilderDetail.sections;\n            if (sections) {\n                sections.map((section, sectionIndex) => {\n                    if (this.utilService.shouldShowSection(section)) {\n                        const isSectionDuplicate = section[EnumService.QuestionLogic.ActionTypeForForm.Duplicate];\n\n                        const questions = section.questions;\n                        questions.map((question, questionIndex) => {\n                            if (this.utilService.shouldShowQuestion(question)) {\n                                const controlName = UtilService.FCUniqueName(section, question);\n\n                                if (question.selectedAnswerTypeId === EnumService.CustomAnswerType.SingleChoiceSet) {\n                                    const control = this.formGroup.controls[controlName];\n                                    question.answerChoiceAttributes.map((choice) => {\n                                        if (choice.answerChoiceAttributeId === control.value) {\n                                            scoreAchieved = scoreAchieved + choice.answerChoiceAttributeScoreOrWeight;\n                                        }\n                                    });\n                                } else if (question.selectedAnswerTypeId === EnumService.CustomAnswerType.MultipleChoiceSet) {\n                                    const control = this.formGroup.controls[controlName];\n                                    const formGroups = control.value as FormGroup;\n                                    question.answerChoiceAttributes.map((choice) => {\n                                        const choiceControl = formGroups[UtilService.SubFCName(controlName, choice.answerChoiceAttributeId)];\n                                        if (choiceControl) {\n                                            scoreAchieved = scoreAchieved + choice.answerChoiceAttributeScoreOrWeight;\n                                        }\n                                    });\n                                }\n                            }\n                        });\n                    }\n                });\n            }\n\n            workPermitAnswer = {\n                workPermitId: this.formBuilderDetail.workPermitDetails.workPermitId,\n                scoreAchieved,\n                totalScore: this.formBuilderDetail.workPermitDetails.totalScore\n            };\n        }\n\n        this.sharedDataService.saveFormAnswers(this.apiService, this.formGroup, this.formBuilderDetail, this.user, (status, result) => {\n            if (status) {\n\n            } else {\n                this.errorMessage = result;\n            }\n        }, null, workPermitAnswer);\n    }\n\n    // Navigate to question\n    previous() {\n        if (this.currentQuestionIndex > 0) {\n            this.currentQuestionIndex--;\n            this.scrollToQuestion();\n        }\n    }\n\n    next() {\n        if (this.currentQuestionIndex < this.questionElementIds.length - 1) {\n            this.currentQuestionIndex++;\n            this.scrollToQuestion();\n        }\n    }\n\n    onScrollEnd = (event) => {\n        if (this.scrollingDetail) {\n            const scrollTop = this.scrollingDetail.scrollTop;\n            if (scrollTop === 0) {\n                this.currentQuestionIndex = 0;\n            } else {\n                this.questionElementIds.map((elementId, key) => {\n                    const y = document.getElementById(elementId).offsetTop;\n                    if (scrollTop >= y) {\n                        this.currentQuestionIndex = key;\n                        return;\n                    }\n                });\n            }\n        }\n    };\n\n    onScroll = (event) => {\n        this.scrollingDetail = event.detail;\n    };\n\n    scrollToQuestion = () => {\n        const elementId = this.questionElementIds[this.currentQuestionIndex];\n        const y = document.getElementById(elementId).offsetTop;\n        this.content.scrollToPoint(0, y, 500);\n    };\n\n    // -- End -- Navigate to question\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FormWorkpermitPageRoutingModule } from './form-workpermit-routing.module';\n\nimport { FormWorkpermitPage } from './form-workpermit.page';\nimport {ComponentsModule} from '../../components/components.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        FormWorkpermitPageRoutingModule,\n        ComponentsModule,\n        ReactiveFormsModule\n    ],\n  declarations: [FormWorkpermitPage]\n})\nexport class FormWorkpermitPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FormWorkpermitPage } from './form-workpermit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FormWorkpermitPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FormWorkpermitPageRoutingModule {}\n"]}