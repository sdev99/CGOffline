{"version":3,"sources":["webpack:///src/app/pages/checkinout-photoidentity-dm/checkinout-photoidentity-dm-routing.module.ts","webpack:///src/app/pages/checkinout-photoidentity-dm/checkinout-photoidentity-dm.page.scss","webpack:///src/app/pages/checkinout-photoidentity-dm/checkinout-photoidentity-dm.page.ts","webpack:///src/app/pages/checkinout-photoidentity-dm/checkinout-photoidentity-dm.page.html","webpack:///src/app/pages/checkinout-photoidentity-dm/checkinout-photoidentity-dm.module.ts"],"names":["routes","path","component","CheckinoutPhotoidentityDmPageRoutingModule","imports","forChild","exports","CheckinoutPhotoidentityDmPage","navController","cameraPreview","activatedRoute","sharedDataService","apiService","utilService","photoService","authFor","viewLoaded","ionViewDidEnter","setTimeout","startCamera","ionViewWillLeave","stopCamera","isLocalHost","takePhotoFromCamera","photo","photoCaptured","dataUrl","element","imagePreview","nativeElement","header","headerView","el","content","width","offsetWidth","height","offsetHeight","left","offsetLeft","top","offsetTop","disableExifHeaderStripping","localStorage","getItem","cameraPreviewOpts","camera","x","y","toBack","alpha","then","res","console","log","err","uploadInductionPhoto","file","fileName","callBack","presentLoadingWithOptions","inductionPhotoUpload","subscribe","hideLoading","StatusCode","ApiResponseCode","RequestSuccessful","fireCallBack","Result","errorMessage","Message","error","message","checkInPhotoUpload","processToNextScreen","photoName","dedicatedModeCapturePhotoFor","DedicatedModeCapturePhotoForType","Auth","dedicatedModeProcessType","DedicatedModeProcessTypes","CheckinOut","checkinoutDmAs","CheckInType","AS_GUEST","dedicatedModeGuestDetail","guestPhoto","getCheckinDetailsGuest","MY_NAME","getCheckinDetailsForDedicatedMode","dedicatedModeUserDetail","userId","Document","dedicatedModeDocumentSignOffProcess","Form","dedicatedModeFormSignOffProcess","WorkPermit","dedicatedModeWorkPermitSignOffProcess","LocationPhoto","checkInPostData","userPhoto","processCheckinDetailsStepInduction","Signoff","signOffFor","SignOffType","INDUCTION","userSignaturePhoto","processCheckinDetailsStepSubmit","DOCUMENT_DM","FORMS_DM","WORK_PERMIT_DM","signOffDetailsPostData","submitPersonalModeSignoffData","style","back","pictureOpts","quality","photoQuality","photoMaxHeight","takePicture","imageData","getCurrentTimeStamp","mimeType","dataUriToFile","dedicatedModeCapturedSelfieForCheckinProcess","navigateRoot","replaceUrl","read","selector","template","CheckinoutPhotoidentityDmPageModule","declarations"],"mappings":"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","file":"pages-checkinout-photoidentity-dm-checkinout-photoidentity-dm-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CheckinoutPhotoidentityDmPage } from './checkinout-photoidentity-dm.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckinoutPhotoidentityDmPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CheckinoutPhotoidentityDmPageRoutingModule {}\n","export default \"ion-content {\\n  --background: #F6F9FB;\\n  --overflow: auto;\\n}\\nion-content .content-container {\\n  width: 100%;\\n  min-height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\nion-content .content {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  flex: 1;\\n}\\nion-content .content .text-1 {\\n  margin-top: -40px;\\n  font-family: Inter;\\n  font-style: normal;\\n  font-weight: 600;\\n  font-size: 24px;\\n  line-height: 29px;\\n  text-align: center;\\n  color: #171538;\\n}\\nion-content .content .text-2 {\\n  margin-top: 21px;\\n  max-width: 406px;\\n  font-family: Inter;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 20px;\\n  line-height: 140%;\\n  text-align: center;\\n  color: #171538;\\n}\\nion-content .content .ion-img-view {\\n  margin-top: 21px;\\n  width: 220px !important;\\n  height: 220px !important;\\n}\\nion-content .content .ion-img-view ion-img {\\n  width: 100%;\\n  height: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\nion-content .content .action-btn {\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n  width: 200px;\\n  height: 50px;\\n}\\nion-content.camera-view {\\n  --background: transparent;\\n}\\nion-content.camera-view .content .text-1 {\\n  color: #ffffff;\\n}\\nion-content.camera-view .content .text-2 {\\n  color: #ffffff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NoZWNraW5vdXQtcGhvdG9pZGVudGl0eS1kbS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxxQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7QUFDRTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtBQUNKO0FBRUU7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsT0FBQTtBQUFKO0FBRUk7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtBQUFOO0FBR0k7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FBRE47QUFJSTtFQUNFLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSx3QkFBQTtBQUZOO0FBSU07RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0tBQUEsaUJBQUE7QUFGUjtBQU1JO0VBQ0UsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBSk47QUFRRTtFQUNFLHlCQUFBO0FBTko7QUFTTTtFQUVFLGNBQUE7QUFSUjtBQVdNO0VBQ0UsY0FBQTtBQVRSIiwiZmlsZSI6ImNoZWNraW5vdXQtcGhvdG9pZGVudGl0eS1kbS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogI0Y2RjlGQjtcbiAgLS1vdmVyZmxvdzogYXV0bztcblxuICAuY29udGVudC1jb250YWluZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1pbi1oZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgLmNvbnRlbnQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGZsZXg6IDE7XG5cbiAgICAudGV4dC0xIHtcbiAgICAgIG1hcmdpbi10b3A6IC00MHB4O1xuICAgICAgZm9udC1mYW1pbHk6IEludGVyO1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyOXB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgY29sb3I6ICMxNzE1Mzg7XG4gICAgfVxuXG4gICAgLnRleHQtMiB7XG4gICAgICBtYXJnaW4tdG9wOiAyMXB4O1xuICAgICAgbWF4LXdpZHRoOiA0MDZweDtcbiAgICAgIGZvbnQtZmFtaWx5OiBJbnRlcjtcbiAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMTQwJTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGNvbG9yOiAjMTcxNTM4O1xuICAgIH1cblxuICAgIC5pb24taW1nLXZpZXcge1xuICAgICAgbWFyZ2luLXRvcDogMjFweDtcbiAgICAgIHdpZHRoOiAyMjBweCAhaW1wb3J0YW50O1xuICAgICAgaGVpZ2h0OiAyMjBweCAhaW1wb3J0YW50O1xuXG4gICAgICBpb24taW1nIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmFjdGlvbi1idG4ge1xuICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICB3aWR0aDogMjAwcHg7XG4gICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgfVxuICB9XG5cbiAgJi5jYW1lcmEtdmlldyB7XG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcblxuICAgIC5jb250ZW50IHtcbiAgICAgIC50ZXh0LTEge1xuICAgICAgICAvL21hcmdpbi10b3A6IDQwcHg7XG4gICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgfVxuXG4gICAgICAudGV4dC0yIHtcbiAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0= */\";","import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport {NavController} from '@ionic/angular';\nimport {\n    CameraPreview,\n    CameraPreviewPictureOptions,\n    CameraPreviewOptions,\n    CameraPreviewDimensions\n} from '@ionic-native/camera-preview/ngx';\nimport {ActivatedRoute} from '@angular/router';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {EnumService} from '../../services/enum.service';\nimport {ApiService} from '../../services/api.service';\nimport {UtilService} from '../../services/util.service';\nimport {Response} from '../../_models';\nimport {PhotoService} from '../../services/photo.service';\nimport {StaticDataService} from '../../services/static-data.service';\n\n\n@Component({\n    selector: 'app-checkinout-photoidentity-dm',\n    templateUrl: './checkinout-photoidentity-dm.page.html',\n    styleUrls: ['./checkinout-photoidentity-dm.page.scss'],\n})\nexport class CheckinoutPhotoidentityDmPage implements OnInit {\n    @ViewChild('imagePreview', {read: ElementRef}) imagePreview: ElementRef;\n    @ViewChild('headerView') headerView: any;\n    @ViewChild('content', {read: ElementRef}) content: ElementRef;\n\n    authFor = 'Check In/Out by Name';\n    photoCaptured: any;\n    nextPage;\n\n    errorMessage;\n\n    viewLoaded = false;\n\n    constructor(\n        public navController: NavController,\n        private cameraPreview: CameraPreview,\n        public activatedRoute: ActivatedRoute,\n        public sharedDataService: SharedDataService,\n        public apiService: ApiService,\n        public utilService: UtilService,\n        public photoService: PhotoService,\n    ) {\n        if (sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.Auth || sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.LocationPhoto) {\n            if (this.sharedDataService.checkinoutDmAs === EnumService.CheckInType.AS_GUEST) {\n                this.authFor = 'Check In/Out as Guest';\n            } else {\n                this.authFor = 'Check In/Out by Name';\n            }\n        } else if (sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.Signoff) {\n            this.authFor = 'Sign-Off';\n        }\n    }\n\n    ngOnInit() {\n    }\n\n    ionViewDidEnter = () => {\n        setTimeout(() => {\n            this.viewLoaded = true;\n            this.startCamera();\n        }, 100);\n    };\n\n    ionViewWillLeave = () => {\n        this.cameraPreview.stopCamera();\n    };\n\n    ionViewWillEnter() {\n        const element = this.imagePreview.nativeElement;\n        element.style.width = element.offsetHeight + 'px';\n    }\n\n    startCamera = () => {\n        if (UtilService.isLocalHost()) {\n            this.photoService.takePhotoFromCamera((photo) => {\n                this.photoCaptured = photo.dataUrl;\n            });\n        } else {\n            const element = this.imagePreview.nativeElement;\n            const header = this.headerView.el;\n            const content = this.content.nativeElement;\n\n            const width = element.offsetWidth;\n            const height = element.offsetHeight;\n            const left = element.offsetLeft;\n            const top = header.offsetHeight + element.offsetTop;\n\n            const disableExifHeaderStripping = localStorage.getItem(StaticDataService.disableExifHeaderStripping);\n\n            const cameraPreviewOpts: CameraPreviewOptions = {\n                camera: 'front',\n                width,\n                height,\n                x: left,\n                y: top,\n                // tapPhoto: true,\n                // previewDrag: true,\n                toBack: true,\n                alpha: 1,\n                disableExifHeaderStripping: disableExifHeaderStripping ? true : false\n            };\n            this.cameraPreview.startCamera(cameraPreviewOpts).then(\n                (res) => {\n                    console.log(res);\n                },\n                (err) => {\n                    console.log(err);\n                });\n        }\n    };\n\n\n    onBack() {\n        this.navController.back();\n    }\n\n    takePhoto() {\n        if (this.photoCaptured) {\n            this.photoCaptured = null;\n            this.startCamera();\n        } else {\n            const pictureOpts: CameraPreviewPictureOptions = {\n                quality: StaticDataService.photoQuality,\n                width: StaticDataService.photoMaxHeight,\n                height: StaticDataService.photoMaxHeight,\n            };\n\n\n            this.cameraPreview.takePicture(pictureOpts).then((imageData) => {\n                this.photoCaptured = 'data:image/jpeg;base64,' + imageData;\n                this.cameraPreview.stopCamera();\n            }, (err) => {\n                console.log(err);\n                this.photoCaptured = './assets/images/ProfileNone.png';\n            });\n        }\n    }\n\n    onContinue() {\n        const fileName = 'photo' + this.utilService.getCurrentTimeStamp() + '.jpeg';\n        const mimeType = 'image/jpeg';\n        this.utilService.dataUriToFile(this.photoCaptured, fileName, mimeType).then((file) => {\n            if ((this.sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.Auth || this.sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.LocationPhoto) &&\n                this.sharedDataService.dedicatedModeProcessType === EnumService.DedicatedModeProcessTypes.CheckinOut) {\n                this.checkInPhotoUpload(file, fileName, (photoName) => {\n                    this.sharedDataService.dedicatedModeCapturedSelfieForCheckinProcess = photoName;\n                    this.processToNextScreen(photoName);\n                });\n            } else {\n                this.uploadInductionPhoto(file, fileName, (photoName) => {\n                    this.processToNextScreen(photoName);\n                });\n            }\n        });\n\n        // if (this.nextPage) {\n        //     this.navController.navigateForward(this.nextPage);\n        // } else if (this.authFor === 'Authentication') {\n        //     this.navController.navigateForward('/form-cover-dm');\n        // } else {\n        //     this.navController.navigateRoot('dashboard-dm');\n        // }\n    }\n\n    /**\n     * Upload photo for  signoff\n     */\n    uploadInductionPhoto = (file, fileName = '', callBack = null) => {\n        this.utilService.presentLoadingWithOptions();\n        this.apiService.inductionPhotoUpload(file, fileName).subscribe((res: Response) => {\n            this.utilService.hideLoading();\n            if (res.StatusCode === EnumService.ApiResponseCode.RequestSuccessful) {\n                UtilService.fireCallBack(callBack, res.Result);\n            } else {\n                this.errorMessage = res.Message;\n            }\n        }, (error) => {\n            this.utilService.hideLoading();\n            this.errorMessage = error.message ? error.message : error;\n        });\n    };\n\n\n    checkInPhotoUpload = async (file, fileName = '', callBack = null) => {\n        this.utilService.presentLoadingWithOptions();\n\n        this.apiService.checkInPhotoUpload(file, fileName).subscribe((res: Response) => {\n            this.utilService.hideLoading();\n            if (res.StatusCode === EnumService.ApiResponseCode.RequestSuccessful) {\n                UtilService.fireCallBack(callBack, res.Result);\n            } else {\n                this.errorMessage = res.Message;\n            }\n        }, (error) => {\n            this.utilService.hideLoading();\n            this.errorMessage = error.message ? error.message : error;\n        });\n    };\n\n    processToNextScreen = (photoName) => {\n        if (this.sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.Auth) {\n            switch (this.sharedDataService.dedicatedModeProcessType) {\n                case EnumService.DedicatedModeProcessTypes.CheckinOut: {\n                    switch (this.sharedDataService.checkinoutDmAs) {\n                        case EnumService.CheckInType.AS_GUEST:\n                            this.sharedDataService.dedicatedModeGuestDetail.guestPhoto = photoName;\n                            this.sharedDataService.getCheckinDetailsGuest(this.apiService, true);\n                            break;\n                        case EnumService.CheckInType.MY_NAME:\n                            this.sharedDataService.getCheckinDetailsForDedicatedMode(this.sharedDataService.dedicatedModeUserDetail.userId, this.apiService, photoName);\n                            break;\n                    }\n                    break;\n                }\n                case EnumService.DedicatedModeProcessTypes.Document:\n                    this.sharedDataService.dedicatedModeDocumentSignOffProcess(photoName);\n                    break;\n                case EnumService.DedicatedModeProcessTypes.Form:\n                    this.sharedDataService.dedicatedModeFormSignOffProcess(photoName);\n                    break;\n                case EnumService.DedicatedModeProcessTypes.WorkPermit:\n                    this.sharedDataService.dedicatedModeWorkPermitSignOffProcess(photoName);\n                    break;\n                default:\n            }\n        } else if (this.sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.LocationPhoto) {\n            switch (this.sharedDataService.checkinoutDmAs) {\n                case EnumService.CheckInType.AS_GUEST:\n                    this.sharedDataService.checkInPostData.guestPhoto = photoName;\n                    break;\n                case EnumService.CheckInType.MY_NAME:\n                    this.sharedDataService.checkInPostData.userPhoto = photoName;\n                    break;\n            }\n            this.sharedDataService.processCheckinDetailsStepInduction(this.apiService, (this.sharedDataService.checkinoutDmAs === EnumService.CheckInType.AS_GUEST));\n        } else if (this.sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.Signoff) {\n            switch (this.sharedDataService.signOffFor) {\n                case EnumService.SignOffType.INDUCTION:\n                    this.sharedDataService.checkInPostData.userSignaturePhoto = photoName;\n                    this.sharedDataService.processCheckinDetailsStepSubmit(this.apiService, (this.sharedDataService.checkinoutDmAs === EnumService.CheckInType.AS_GUEST));\n                    break;\n\n                case EnumService.SignOffType.DOCUMENT_DM:\n                case EnumService.SignOffType.FORMS_DM:\n                case EnumService.SignOffType.WORK_PERMIT_DM:\n                    this.sharedDataService.signOffDetailsPostData.userSignaturePhoto = photoName;\n                    this.sharedDataService.submitPersonalModeSignoffData(this.apiService);\n                    break;\n\n                default:\n            }\n        }\n    };\n\n    onClose() {\n        if (this.sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.Auth || this.sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.LocationPhoto) {\n            this.navController.navigateRoot('dashboard-dm', {replaceUrl: true});\n        } else if (this.sharedDataService.dedicatedModeCapturePhotoFor === EnumService.DedicatedModeCapturePhotoForType.Signoff) {\n            if (this.sharedDataService.signOffFor === EnumService.SignOffType.INDUCTION) {\n                this.navController.navigateRoot('/dashboard-dm', {replaceUrl: true});\n            } else if (this.sharedDataService.signOffFor === EnumService.SignOffType.DOCUMENT_DM) {\n                this.navController.navigateRoot('/documents-dm', {replaceUrl: true});\n            } else if (this.sharedDataService.signOffFor === EnumService.SignOffType.FORMS_DM) {\n                this.navController.navigateRoot('/forms-dm', {replaceUrl: true});\n            } else if (this.sharedDataService.signOffFor === EnumService.SignOffType.WORK_PERMIT_DM) {\n                this.navController.navigateRoot('/permits-dm', {replaceUrl: true});\n            }\n        }\n    }\n}\n","export default \"<ion-header #headerView>\\n    <app-modal-header-dm [modalTitle]=\\\"sharedDataService.getCurrentCheckedInEntityName()\\\" [modalSubTitle]=\\\"authFor\\\"\\n                         (closeModal)=\\\"onClose()\\\"></app-modal-header-dm>\\n</ion-header>\\n\\n<ion-content [ngClass]=\\\"{'camera-view':(!photoCaptured && viewLoaded)}\\\">\\n    <div class=\\\"content-container\\\">\\n        <app-back-continue-toolbar (back)=\\\"onBack()\\\"\\n                                   (continue)=\\\"onContinue()\\\"\\n                                   [disableRightBtn]=\\\"!photoCaptured\\\"></app-back-continue-toolbar>\\n\\n        <div class=\\\"content\\\" #content>\\n            <div class=\\\"text-1\\\">\\n                Photo Identity\\n            </div>\\n            <div class=\\\"text-2\\\">\\n                We need to take a photo of you.\\n                <br/>\\n                Please align your face in to the below area.\\n            </div>\\n            <div class=\\\"ion-img-view\\\" #imagePreview>\\n                <ion-img *ngIf=\\\"photoCaptured\\\" [src]=\\\"photoCaptured\\\"></ion-img>\\n            </div>\\n\\n            <ion-button class=\\\"action-btn\\\" (click)=\\\"takePhoto()\\\">\\n                {{photoCaptured ? 'Take a New Photo' : 'Take the Photo'}}\\n            </ion-button>\\n        </div>\\n    </div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckinoutPhotoidentityDmPageRoutingModule } from './checkinout-photoidentity-dm-routing.module';\n\nimport { CheckinoutPhotoidentityDmPage } from './checkinout-photoidentity-dm.page';\nimport {ComponentsModule} from '../../components/components.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        CheckinoutPhotoidentityDmPageRoutingModule,\n        ComponentsModule\n    ],\n  declarations: [CheckinoutPhotoidentityDmPage]\n})\nexport class CheckinoutPhotoidentityDmPageModule {}\n"]}