{"version":3,"sources":["webpack:///src/app/pages/document-openchoice/document-openchoice-routing.module.ts","webpack:///src/app/pages/document-openchoice/document-openchoice.page.ts","webpack:///src/app/pages/document-openchoice/document-openchoice.page.html","webpack:///src/app/pages/document-openchoice/document-openchoice.module.ts","webpack:///src/app/pages/document-openchoice/document-openchoice.page.scss"],"names":["routes","path","component","DocumentOpenchoicePageRoutingModule","imports","forChild","exports","DocumentOpenchoicePage","navController","activatedRoute","filehandlerService","sharedDataService","apiService","accountService","user","userValue","queryParams","subscribe","params","document","JSON","parse","back","signOffFor","SignOffType","DOCUMENT_CURRENT_CHECKIN","signOffDocumentDetail","signOffDetailsPostData","userId","documentVersionID","formVersionID","latitude","myCurrentGeoLocation","coords","longitude","locationID","currentSelectedCheckinPlace","projectID","inventoryItemID","userCheckInDetailID","isSignatureSignOff","isDigitalSignOff","navigateForward","isPhotoSignOff","dedicatedMode","dedicatedModeCapturePhotoFor","DedicatedModeCapturePhotoForType","Signoff","submitPersonalModeSignoffData","openDocument","globalDirectories","documentDirectory","documentFileName","openFile","selector","template","DocumentOpenchoicePageModule","declarations"],"mappings":"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","file":"pages-document-openchoice-document-openchoice-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DocumentOpenchoicePage } from './document-openchoice.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DocumentOpenchoicePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DocumentOpenchoicePageRoutingModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {NavController} from '@ionic/angular';\nimport {ActivatedRoute} from '@angular/router';\nimport {FilehandlerService} from '../../services/filehandler.service';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {EnumService} from '../../services/enum.service';\nimport {DocumentDetail} from '../../_models/documentDetail';\nimport {SignOffFormDetail} from '../../_models/signOffFormDetail';\nimport {ApiService} from '../../services/api.service';\nimport {SignOffDetailsPostData} from '../../_models/signOffDetailsPostData';\nimport {User} from '../../_models';\nimport {AccountService} from '../../services/account.service';\n\n@Component({\n    selector: 'app-document-openchoice',\n    templateUrl: './document-openchoice.page.html',\n    styleUrls: ['./document-openchoice.page.scss'],\n})\nexport class DocumentOpenchoicePage implements OnInit {\n    document: DocumentDetail;\n    user: User;\n\n    constructor(\n        private navController: NavController,\n        public activatedRoute: ActivatedRoute,\n        public filehandlerService: FilehandlerService,\n        public sharedDataService: SharedDataService,\n        public apiService: ApiService,\n        private accountService: AccountService,\n    ) {\n        this.user = this.accountService.userValue;\n\n        this.activatedRoute.queryParams.subscribe((params) => {\n            if (params && params.document) {\n                this.document = JSON.parse(params.document) as DocumentDetail;\n            }\n        });\n    }\n\n    ngOnInit() {\n    }\n\n    onClose() {\n        this.navController.back();\n    }\n\n    viewAndSignOff() {\n        this.sharedDataService.signOffFor = EnumService.SignOffType.DOCUMENT_CURRENT_CHECKIN;\n        this.sharedDataService.signOffDocumentDetail = this.document as DocumentDetail;\n\n        this.sharedDataService.signOffDetailsPostData = {\n            userId: this.user?.userId,\n            documentVersionID: this.document.documentVersionID,\n            formVersionID: 0,\n            latitude: this.sharedDataService.myCurrentGeoLocation?.coords?.latitude,\n            longitude: this.sharedDataService.myCurrentGeoLocation?.coords?.longitude,\n            locationID: this.sharedDataService.currentSelectedCheckinPlace?.locationID,\n            projectID: this.sharedDataService.currentSelectedCheckinPlace?.projectID,\n            inventoryItemID: this.sharedDataService.currentSelectedCheckinPlace?.inventoryItemID,\n            userCheckInDetailID: this.sharedDataService.currentSelectedCheckinPlace?.userCheckInDetailID,\n        } as SignOffDetailsPostData;\n\n        if (this.document.isSignatureSignOff || this.document.isDigitalSignOff) {\n            this.navController.navigateForward('/signoff-digitalink');\n        } else if (this.document.isPhotoSignOff) {\n            if (this.sharedDataService.dedicatedMode) {\n                this.sharedDataService.dedicatedModeCapturePhotoFor = EnumService.DedicatedModeCapturePhotoForType.Signoff;\n                this.navController.navigateForward(['/checkinout-photoidentity-dm']);\n            } else {\n                this.navController.navigateForward(['/signoff-photo']);\n            }\n        } else {\n            this.sharedDataService.submitPersonalModeSignoffData(this.apiService);\n        }\n        this.openDocument();\n    }\n\n    viewOnly() {\n        this.openDocument();\n    }\n\n    openDocument() {\n        if (this.sharedDataService.globalDirectories && this.sharedDataService.globalDirectories.documentDirectory && this.document && this.document.documentFileName) {\n            this.filehandlerService.openFile(this.sharedDataService.globalDirectories.documentDirectory + '' + this.document.documentFileName);\n        }\n    }\n\n}\n","export default \"<ion-header>\\n    <app-modal-header [modalTitle]=\\\"sharedDataService.currentSelectedCheckinPlace?.entityName\\\" (closeModal)=\\\"onClose()\\\"></app-modal-header>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <div class=\\\"content\\\">\\n        <div class=\\\"text-1\\\">What do you want to do this with this document?</div>\\n        <div class=\\\"text-2\\\" *ngIf=\\\"document\\\">\\n            {{document?.documentTitle}}\\n        </div>\\n\\n\\n        <ion-button class=\\\"action-btn\\\" (click)=\\\"viewAndSignOff()\\\">\\n            View and Sign-Off\\n        </ion-button>\\n\\n        <ion-button class=\\\"cancel-btn\\\" fill=\\\"outline\\\" (click)=\\\"viewOnly()\\\">\\n            View Only\\n        </ion-button>\\n    </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DocumentOpenchoicePageRoutingModule } from './document-openchoice-routing.module';\n\nimport { DocumentOpenchoicePage } from './document-openchoice.page';\nimport {ComponentsModule} from '../../components/components.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        DocumentOpenchoicePageRoutingModule,\n        ComponentsModule\n    ],\n  declarations: [DocumentOpenchoicePage]\n})\nexport class DocumentOpenchoicePageModule {}\n","export default \"ion-content .content {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  min-height: 100%;\\n  padding: 0 32px;\\n}\\nion-content .content .text-1 {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 31px;\\n  display: flex;\\n  align-items: center;\\n  text-align: center;\\n  color: #444444;\\n}\\nion-content .content .text-2 {\\n  margin-top: 16px;\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 18px;\\n  display: flex;\\n  align-items: center;\\n  text-align: center;\\n  color: #4A90E2;\\n}\\nion-content .content .action-btn {\\n  margin-top: 50px;\\n  width: 207px;\\n  height: 44px;\\n  margin-bottom: 31px;\\n}\\nion-content .content .cancel-btn {\\n  --background: #ffffff;\\n  width: 207px;\\n  height: 44px;\\n  --border-width: 2px;\\n  --border-color: #2A6FDB;\\n  --border-radius: 3px;\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: #2A6FDB;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2RvY3VtZW50LW9wZW5jaG9pY2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQUFKO0FBRUk7RUFDRSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUFBTjtBQUdJO0VBQ0UsZ0JBQUE7RUFDQSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUFETjtBQUlJO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0FBRk47QUFLSTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esb0JBQUE7RUFDQSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FBSE4iLCJmaWxlIjoiZG9jdW1lbnQtb3BlbmNob2ljZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC5jb250ZW50IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBtaW4taGVpZ2h0OiAxMDAlO1xuICAgIHBhZGRpbmc6IDAgMzJweDtcblxuICAgIC50ZXh0LTEge1xuICAgICAgZm9udC1mYW1pbHk6IElCTSBQbGV4IFNhbnM7XG4gICAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDMxcHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGNvbG9yOiAjNDQ0NDQ0O1xuICAgIH1cblxuICAgIC50ZXh0LTIge1xuICAgICAgbWFyZ2luLXRvcDogMTZweDtcbiAgICAgIGZvbnQtZmFtaWx5OiBJQk0gUGxleCBTYW5zO1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBjb2xvcjogIzRBOTBFMjtcbiAgICB9XG5cbiAgICAuYWN0aW9uLWJ0biB7XG4gICAgICBtYXJnaW4tdG9wOiA1MHB4O1xuICAgICAgd2lkdGg6IDIwN3B4O1xuICAgICAgaGVpZ2h0OiA0NHB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMzFweDtcbiAgICB9XG5cbiAgICAuY2FuY2VsLWJ0biB7XG4gICAgICAtLWJhY2tncm91bmQ6ICNmZmZmZmY7XG4gICAgICB3aWR0aDogMjA3cHg7XG4gICAgICBoZWlnaHQ6IDQ0cHg7XG4gICAgICAtLWJvcmRlci13aWR0aDogMnB4O1xuICAgICAgLS1ib3JkZXItY29sb3I6ICMyQTZGREI7XG4gICAgICAtLWJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgIGZvbnQtZmFtaWx5OiBJQk0gUGxleCBTYW5zO1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgY29sb3I6ICMyQTZGREI7XG4gICAgfVxuICB9XG59XG4iXX0= */\";"]}