{"version":3,"sources":["webpack:///src/app/pages/my-profile-documents/my-profile-documents.module.ts","webpack:///src/app/pages/my-profile-documents/my-profile-documents-routing.module.ts","webpack:///src/app/pages/my-profile-documents/my-profile-documents.page.html","webpack:///src/app/pages/my-profile-documents/my-profile-documents.page.scss","webpack:///src/app/pages/my-profile-documents/my-profile-documents.page.ts"],"names":["MyProfileDocumentsPageModule","imports","declarations","routes","path","component","MyProfileDocumentsPageRoutingModule","forChild","exports","MyProfileDocumentsPage","navCtrl","filehandlerService","apiService","accountService","sharedDataService","utilService","list","isLoadingMoreData","isRefreshing","getMySignedDocuments","callBack","resetList","user","userId","subscribe","response","isMoreData","StatusCode","ApiResponseCode","RequestSuccessful","Result","fireCallBack","error","userValue","presentLoadingWithOptions","hideLoading","event","target","complete","back","attachment","globalDirectories","documentDirectory","documentFileName","openFile","selector","template"],"mappings":"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","file":"my-profile-documents-my-profile-documents-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyProfileDocumentsPageRoutingModule } from './my-profile-documents-routing.module';\n\nimport { MyProfileDocumentsPage } from './my-profile-documents.page';\nimport {ComponentsModule} from '../../components/components.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        MyProfileDocumentsPageRoutingModule,\n        ComponentsModule\n    ],\n  declarations: [MyProfileDocumentsPage]\n})\nexport class MyProfileDocumentsPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyProfileDocumentsPage } from './my-profile-documents.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyProfileDocumentsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyProfileDocumentsPageRoutingModule {}\n","export default \"<ion-header mode=\\\"ios\\\">\\n    <app-modal-header [modalTitle]=\\\"'My Signed Documents'\\\" (closeModal)=\\\"onClose()\\\"></app-modal-header>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n        <app-custom-ion-refresh-loader [isRefreshing]=\\\"isRefreshing\\\"></app-custom-ion-refresh-loader>\\n    </ion-refresher>\\n\\n    <ng-container *ngIf=\\\"list && list.length>0; else emptyMessage\\\">\\n        <ion-list lines=\\\"none\\\">\\n            <ion-item mode=\\\"md\\\" lines=\\\"full\\\" *ngFor=\\\"let item of list\\\" (click)=\\\"openFile(item)\\\">\\n                <ion-icon slot=\\\"start\\\" src=\\\"./assets/icon/attachment2.svg\\\"></ion-icon>\\n                <ion-label class=\\\"ion-text-wrap\\\">\\n                    <h4>{{item.documentTitle}}</h4>\\n                    <!--                <p>Expires on {{item.timeDifference | date:'dd MMM yyyy HH:mm'}}</p>-->\\n                    <p>{{item.formattedCreatedDate}}</p>\\n                </ion-label>\\n            </ion-item>\\n        </ion-list>\\n\\n        <!--        <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreData($event)\\\">-->\\n        <!--            <ion-infinite-scroll-content [loadingSpinner]=\\\"null\\\">-->\\n        <!--                <div class=\\\"ion-infinite-custom-loader\\\" *ngIf=\\\"isLoadingMoreData\\\">-->\\n        <!--                    <ion-icon src=\\\"./assets/icon/Loader.svg\\\"></ion-icon>-->\\n        <!--                </div>-->\\n        <!--            </ion-infinite-scroll-content>-->\\n        <!--        </ion-infinite-scroll>-->\\n    </ng-container>\\n\\n    <ng-template #emptyMessage>\\n        <app-empty-message message=\\\"There are no signed-off files.\\\"></app-empty-message>\\n    </ng-template>\\n</ion-content>\\n\";","export default \"ion-content ion-list ion-item {\\n  --border-color: #DCE7EF;\\n  --padding-top: 8px;\\n  --padding-bottom: 8px;\\n}\\nion-content ion-list ion-item h4 {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: #21092A;\\n}\\nion-content ion-list ion-item p {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 12px;\\n  line-height: 16px;\\n  color: #777595;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL215LXByb2ZpbGUtZG9jdW1lbnRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNFLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtBQUROO0FBR007RUFDRSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FBRFI7QUFJTTtFQUNFLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUFGUiIsImZpbGUiOiJteS1wcm9maWxlLWRvY3VtZW50cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIGlvbi1saXN0IHtcbiAgICBpb24taXRlbSB7XG4gICAgICAtLWJvcmRlci1jb2xvcjogI0RDRTdFRjtcbiAgICAgIC0tcGFkZGluZy10b3A6IDhweDtcbiAgICAgIC0tcGFkZGluZy1ib3R0b206IDhweDtcblxuICAgICAgaDQge1xuICAgICAgICBmb250LWZhbWlseTogSUJNIFBsZXggU2FucztcbiAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgICBjb2xvcjogIzIxMDkyQTtcbiAgICAgIH1cblxuICAgICAgcCB7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBJQk0gUGxleCBTYW5zO1xuICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICAgIGNvbG9yOiAjNzc3NTk1O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */\";","import {Component, OnInit} from '@angular/core';\nimport {DemoDataService} from '../../services/demo-data.service';\nimport {NavController} from '@ionic/angular';\nimport {FilehandlerService} from '../../services/filehandler.service';\nimport {ApiService} from '../../services/api.service';\nimport {UtilService} from '../../services/util.service';\nimport {Response, User} from '../../_models';\nimport {AccountService} from '../../services/account.service';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {MySignedDocumentItem} from '../../_models/mySignedDocumentItem';\nimport {EnumService} from '../../services/enum.service';\n\n@Component({\n    selector: 'app-my-profile-documents',\n    templateUrl: './my-profile-documents.page.html',\n    styleUrls: ['./my-profile-documents.page.scss'],\n})\nexport class MyProfileDocumentsPage implements OnInit {\n    list: Array<MySignedDocumentItem> = [];\n    user: User;\n    isLoadingMoreData = false;\n    isRefreshing = false;\n\n    constructor(\n        public navCtrl: NavController,\n        private filehandlerService: FilehandlerService,\n        private apiService: ApiService,\n        public accountService: AccountService,\n        public sharedDataService: SharedDataService,\n        public utilService: UtilService,\n    ) {\n        this.user = this.accountService.userValue;\n    }\n\n    async ngOnInit() {\n        this.utilService.presentLoadingWithOptions();\n        this.getMySignedDocuments(() => {\n            this.utilService.hideLoading();\n        }, true);\n    }\n\n    doRefresh(event) {\n        this.isRefreshing = true;\n        this.getMySignedDocuments(() => {\n            this.isRefreshing = false;\n            event.target.complete();\n        }, true);\n    }\n\n    loadMoreData(event) {\n        this.isLoadingMoreData = true;\n        this.getMySignedDocuments((isMoreData) => {\n            event.target.complete();\n            this.isLoadingMoreData = false;\n            if (!isMoreData) {\n                // event.target.disabled = true;\n            }\n        });\n    }\n\n    getMySignedDocuments = async (callBack, resetList = false) => {\n        this.apiService.getMySignedDocuments(this.user?.userId).subscribe((response: Response) => {\n            let isMoreData = false;\n            if (response.StatusCode === EnumService.ApiResponseCode.RequestSuccessful) {\n                if (resetList) {\n                    this.list = response.Result;\n                } else {\n                    this.list = response.Result;\n                    // this.list = this.list.concat(response.Result);\n                }\n                isMoreData = true;\n            }\n            UtilService.fireCallBack(callBack, isMoreData);\n        }, (error) => {\n            UtilService.fireCallBack(callBack, false);\n        });\n    };\n\n    onClose() {\n        this.navCtrl.back();\n    }\n\n    openFile(attachment: MySignedDocumentItem) {\n        if (this.sharedDataService.globalDirectories && this.sharedDataService.globalDirectories.documentDirectory && attachment && attachment.documentFileName) {\n            this.filehandlerService.openFile(this.sharedDataService.globalDirectories.documentDirectory + '' + attachment.documentFileName);\n        }\n    }\n\n}\n"]}