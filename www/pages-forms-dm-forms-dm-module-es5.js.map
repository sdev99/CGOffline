{"version":3,"sources":["webpack:///src/app/pages/forms-dm/forms-dm-routing.module.ts","webpack:///src/app/pages/forms-dm/forms-dm.page.scss","webpack:///src/app/pages/forms-dm/forms-dm.module.ts","webpack:///src/app/pages/forms-dm/forms-dm.page.ts","webpack:///src/app/pages/forms-dm/forms-dm.page.html"],"names":["routes","path","component","FormsDmPageRoutingModule","imports","forChild","exports","FormsDmPageModule","declarations","FormsDmPage","navController","filehandlerService","utilService","sharedDataService","apiService","UtilService","EnumService","listType","DedicatedModeFormListType","Available","listTypes","Object","values","searchQuery","isLoadingForms","dedicatedModeProcessType","DedicatedModeProcessTypes","Form","getDedicatedModeAvailableForms","getDedicatedModeArchiveForms","companyID","dedicatedModeDeviceDetailData","subscribe","response","availableForms","Result","error","archivedForms","search","visible","event","Archive","item","presentLoadingWithOptions","getDedicatedModeSignOffFormDetail","formID","hideLoading","StatusCode","ApiResponseCode","RequestSuccessful","signOffFor","SignOffType","FORMS_DM","viewFormFor","ViewFormForType","FormDM","signOffFormDetail","dedicatedModeTempAuthFor","DedicatedModeTempAuthType","navigateForward","documentFileName","openFile","globalDirectories","documentDirectory","showAlert","selector","template"],"mappings":"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","file":"pages-forms-dm-forms-dm-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FormsDmPage } from './forms-dm.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FormsDmPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FormsDmPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmb3Jtcy1kbS5wYWdlLnNjc3MifQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FormsDmPageRoutingModule } from './forms-dm-routing.module';\n\nimport { FormsDmPage } from './forms-dm.page';\nimport {ComponentsModule} from '../../components/components.module';\nimport {PipesModule} from '../../pipes/pipes.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        FormsDmPageRoutingModule,\n        ComponentsModule,\n        PipesModule\n    ],\n  declarations: [FormsDmPage]\n})\nexport class FormsDmPageModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { FilehandlerService } from \"../../services/filehandler.service\";\nimport { UtilService } from \"../../services/util.service\";\nimport { NavController } from \"@ionic/angular\";\nimport { SharedDataService } from \"../../services/shared-data.service\";\nimport { EnumService } from \"../../services/enum.service\";\nimport { ApiService } from \"../../services/api.service\";\nimport { Response } from \"../../_models\";\nimport { ArchivedDocumentDetail } from \"../../_models/archivedDocumentDetail\";\nimport { FormItem } from \"../../_models/formItem\";\nimport { SignOffFormDetail } from \"../../_models/signOffFormDetail\";\nimport { SignOffDetailsPostData } from \"../../_models/signOffDetailsPostData\";\n\n@Component({\n  selector: \"app-forms-dm\",\n  templateUrl: \"./forms-dm.page.html\",\n  styleUrls: [\"./forms-dm.page.scss\"],\n})\nexport class FormsDmPage implements OnInit {\n  UtilService = UtilService;\n  EnumService = EnumService;\n\n  listType = EnumService.DedicatedModeFormListType.Available;\n  listTypes = Object.values(EnumService.DedicatedModeFormListType);\n\n  searchQuery = \"\";\n\n  availableForms: Array<FormItem>;\n  archivedForms: Array<ArchivedDocumentDetail>;\n\n  isLoadingForms = false;\n\n  constructor(\n    private navController: NavController,\n    private filehandlerService: FilehandlerService,\n    public utilService: UtilService,\n    public sharedDataService: SharedDataService,\n    public apiService: ApiService\n  ) {}\n\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n    this.sharedDataService.dedicatedModeProcessType =\n      EnumService.DedicatedModeProcessTypes.Form;\n    this.getDedicatedModeAvailableForms();\n    this.getDedicatedModeArchiveForms();\n  }\n\n  getDedicatedModeAvailableForms() {\n    this.isLoadingForms = true;\n    const companyID = this.sharedDataService.dedicatedModeDeviceDetailData\n      ?.companyID;\n    this.apiService.getDedicatedModeAvailableForms(companyID).subscribe(\n      (response: Response) => {\n        this.isLoadingForms = false;\n        if (response) {\n          this.availableForms = response.Result;\n        }\n      },\n      (error) => {\n        this.isLoadingForms = false;\n      }\n    );\n  }\n\n  getDedicatedModeArchiveForms() {\n    this.isLoadingForms = true;\n    const companyID = this.sharedDataService.dedicatedModeDeviceDetailData\n      ?.companyID;\n    this.apiService.getDedicatedModeArchiveForms(companyID).subscribe(\n      (response: Response) => {\n        this.isLoadingForms = false;\n        if (response) {\n          this.archivedForms = response.Result;\n        }\n      },\n      (error) => {\n        this.isLoadingForms = false;\n      }\n    );\n  }\n\n  onSearch(search) {\n    this.searchQuery = search;\n  }\n\n  searchbarShowHide(visible) {\n    if (!visible) {\n      this.searchQuery = \"\";\n    }\n  }\n\n  segmentChanged(event) {\n    this.listType = event;\n    if (event === EnumService.DedicatedModeFormListType.Available) {\n      this.getDedicatedModeAvailableForms();\n    } else if (event === EnumService.DedicatedModeFormListType.Archive) {\n      this.getDedicatedModeArchiveForms();\n    }\n  }\n\n  openForm(item: FormItem) {\n    this.utilService.presentLoadingWithOptions();\n    this.apiService.getDedicatedModeSignOffFormDetail(item.formID).subscribe(\n      (response: Response) => {\n        this.utilService.hideLoading();\n        if (\n          response.StatusCode === EnumService.ApiResponseCode.RequestSuccessful\n        ) {\n          this.sharedDataService.signOffFor = EnumService.SignOffType.FORMS_DM;\n          this.sharedDataService.viewFormFor =\n            EnumService.ViewFormForType.FormDM;\n          this.sharedDataService.signOffFormDetail = response.Result as SignOffFormDetail;\n          this.sharedDataService.dedicatedModeTempAuthFor =\n            EnumService.DedicatedModeTempAuthType.Form;\n          this.navController.navigateForward(\"/form-open-auth-dm\");\n        }\n      },\n      (error) => {\n        this.utilService.hideLoading();\n      }\n    );\n  }\n\n  openArchivedForm(item: ArchivedDocumentDetail) {\n    if (item.documentFileName) {\n      this.filehandlerService.openFile(\n        this.sharedDataService.globalDirectories?.documentDirectory +\n          \"\" +\n          item.documentFileName\n      );\n    } else {\n      this.utilService.showAlert(\n        \"This device needs to be synced first in order to show the selected file. Please sync device and try again.\",\n        \"File Not Available Yet\"\n      );\n    }\n  }\n}\n","export default \"<ion-header>\\n  <app-dashboard-header-dm\\n    [title]=\\\"sharedDataService.getCurrentCheckedInEntityName()\\\"\\n  ></app-dashboard-header-dm>\\n  <app-topnavigations-btns-dm activeBtn=\\\"form\\\"></app-topnavigations-btns-dm>\\n  <app-topnavigations-segments-dm\\n    [active]=\\\"listType\\\"\\n    [options]=\\\"listTypes\\\"\\n    [search]=\\\"searchQuery\\\"\\n    (searching)=\\\"onSearch($event)\\\"\\n    (searchbarShowHide)=\\\"searchbarShowHide($event)\\\"\\n    (changed)=\\\"segmentChanged($event)\\\"\\n  ></app-topnavigations-segments-dm>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list\\n    *ngIf=\\\"(listType === EnumService.DedicatedModeFormListType.Available && availableForms?.length>0) || (listType === EnumService.DedicatedModeFormListType.Archive && archivedForms?.length>0); else noDocument\\\"\\n    class=\\\"activity-list\\\"\\n    lines=\\\"full\\\"\\n  >\\n    <ng-container\\n      *ngIf=\\\"listType === EnumService.DedicatedModeFormListType.Available\\\"\\n    >\\n      <app-archived-item\\n        *ngFor=\\\"let item of availableForms | listFilter:searchQuery:'formTitle';\\\"\\n        [icon]=\\\"item.documentFileIconURL\\\"\\n        (itemSelect)=\\\"openForm(item)\\\"\\n        [colFirst]=\\\"item.formTitle\\\"\\n      ></app-archived-item>\\n    </ng-container>\\n\\n    <ng-container\\n      *ngIf=\\\"listType === EnumService.DedicatedModeFormListType.Archive\\\"\\n    >\\n      <app-archived-item\\n        *ngFor=\\\"let item of archivedForms | listFilter:searchQuery:'documentTitle';\\\"\\n        (itemSelect)=\\\"openArchivedForm(item)\\\"\\n        [icon]=\\\"item.documentFileIconURL\\\"\\n        [colFirst]=\\\"item.documentTitle\\\"\\n        colSecond=\\\"Signed by\\\"\\n        [colSecondHighlighted]=\\\"item.signedByName\\\"\\n        colThird=\\\"Signed\\\"\\n        [colThirdHighlighted]=\\\"item.formattedCreatedDate\\\"\\n      ></app-archived-item>\\n    </ng-container>\\n  </ion-list>\\n\\n  <ng-template #noDocument>\\n    <app-empty-message\\n      *ngIf=\\\"!isLoadingForms\\\"\\n      message=\\\"No forms available\\\"\\n    ></app-empty-message>\\n  </ng-template>\\n\\n  <ng-container\\n    *ngIf=\\\"listType === EnumService.DedicatedModeFormListType.Available && availableForms?.length>0\\\"\\n  >\\n    <app-empty-message\\n      *ngIf=\\\"!isLoadingForms && (availableForms | listFilter:searchQuery:'formTitle').length == 0\\\"\\n      message=\\\"No Results Found\\\"\\n    ></app-empty-message>\\n  </ng-container>\\n\\n  <ng-container\\n    *ngIf=\\\"listType === EnumService.DedicatedModeFormListType.Archive && archivedForms?.length>0\\\"\\n  >\\n    <app-empty-message\\n      *ngIf=\\\"!isLoadingForms && (archivedForms | listFilter:searchQuery:'documentTitle').length == 0\\\"\\n      message=\\\"No Results Found\\\"\\n    ></app-empty-message>\\n  </ng-container>\\n</ion-content>\\n\";"]}