{"version":3,"sources":["webpack:///src/app/pages/permits-generate-dm/permits-generate-dm.page.html","webpack:///src/app/pages/permits-generate-dm/permits-generate-dm-routing.module.ts","webpack:///src/app/pages/permits-generate-dm/permits-generate-dm.page.scss","webpack:///src/app/pages/permits-generate-dm/permits-generate-dm.module.ts","webpack:///src/app/pages/permits-generate-dm/permits-generate-dm.page.ts"],"names":["routes","path","component","PermitsGenerateDmPageRoutingModule","imports","forChild","exports","PermitsGenerateDmPageModule","declarations","PermitsGenerateDmPage","navController","sharedDataService","screenOrientation","ngZone","list","errorMessage","submitted","isShowOritationPortrait","handleOrientation","dedicatedMode","type","includes","unlock","screenOrientationSubscribe","onChange","subscribe","run","isLocalHost","lock","ORIENTATIONS","LANDSCAPE","unsubscribe","navigateRoot","replaceUrl","back","item","required","answer","invalidCount","map","navigateForward","queryParams","permitResult","randomBoolean","selector","template"],"mappings":"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","file":"pages-permits-generate-dm-permits-generate-dm-module-es5.js","sourcesContent":["export default \"<app-portrait-orientation *ngIf=\\\"isShowOritationPortrait;else formView\\\"\\n                          (close)=\\\"isShowOritationPortrait=false\\\"></app-portrait-orientation>\\n\\n<ng-template #formView>\\n    <ion-header>\\n        <app-modal-header-dm [modalTitle]=\\\"sharedDataService.getCurrentCheckedInEntityName()\\\" modalSubTitle=\\\"Work Permit\\\"\\n                             (closeModal)=\\\"onClose()\\\"></app-modal-header-dm>\\n        <app-warning-component *ngIf=\\\"errorMessage\\\" [message]=\\\"errorMessage\\\"></app-warning-component>\\n\\n        <app-back-continue-toolbar title=\\\"Hot Works Permit Questionnaire\\\" (back)=\\\"onBack()\\\"\\n                                   (continue)=\\\"onContinue()\\\"></app-back-continue-toolbar>\\n\\n    </ion-header>\\n\\n    <ion-content mode=\\\"md\\\">\\n\\n\\n        <ion-list lines=\\\"none\\\">\\n            <ion-card *ngFor=\\\"let item of list\\\" [ngClass]=\\\"{'error':(submitted&&!isValid(item))}\\\">\\n\\n                <ion-card-title class=\\\"ion-padding-horizontal ion-padding-top\\\">\\n                    <ion-text *ngIf=\\\"item.required\\\">*\\n                    </ion-text>\\n                    {{item.title}}\\n                </ion-card-title>\\n\\n                <ion-card-content>\\n                    <ion-radio-group [(ngModel)]=\\\"item.answer\\\">\\n                        <ion-item>\\n                            <ion-radio slot=\\\"start\\\" value=\\\"yes\\\"></ion-radio>\\n                            <ion-label>Yes</ion-label>\\n                        </ion-item>\\n\\n                        <ion-item>\\n                            <ion-radio slot=\\\"start\\\" value=\\\"no\\\"></ion-radio>\\n                            <ion-label>No</ion-label>\\n                        </ion-item>\\n\\n                        <ion-item>\\n                            <ion-radio slot=\\\"start\\\" value=\\\"na\\\"></ion-radio>\\n                            <ion-label>N/A</ion-label>\\n                        </ion-item>\\n                    </ion-radio-group>\\n                </ion-card-content>\\n\\n            </ion-card>\\n\\n\\n        </ion-list>\\n\\n    </ion-content>\\n</ng-template>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PermitsGenerateDmPage } from './permits-generate-dm.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PermitsGenerateDmPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PermitsGenerateDmPageRoutingModule {}\n","export default \"ion-header ::ng-deep app-back-continue-toolbar ion-toolbar {\\n  padding-top: 16px;\\n  --background: #F6F9FB;\\n}\\nion-header ::ng-deep app-back-continue-toolbar ion-toolbar ion-title {\\n  padding: 0 14px;\\n  position: relative;\\n  font-size: 22px;\\n}\\nion-content {\\n  --background: #F6F9FB;\\n}\\nion-content ion-list {\\n  background: transparent;\\n  width: 50%;\\n  margin: auto;\\n  min-width: 320px;\\n}\\nion-content ion-list ion-card {\\n  margin-bottom: 16px;\\n}\\nion-content ion-list ion-card ion-card-title {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: 600;\\n  font-size: 16px;\\n  line-height: 24px;\\n}\\nion-content ion-list ion-card ion-card-title ion-text {\\n  color: #D0021B;\\n  vertical-align: middle;\\n}\\nion-content ion-list ion-card ion-radio-group ion-label {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 21px;\\n  color: #171538;\\n}\\nion-content ion-list ion-radio {\\n  --border-color: #4A90E2;\\n  --border-color-checked: #4A90E2;\\n  --color: #4A90E2;\\n}\\nion-content .text-bottom-msg {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 18px;\\n  text-align: center;\\n  color: #171538;\\n  padding: 0 32px;\\n  background-color: #ffffff;\\n}\\nion-content .text-bottom-msg .action-btn {\\n  width: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Blcm1pdHMtZ2VuZXJhdGUtZG0ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVJO0VBQ0UsaUJBQUE7RUFDQSxxQkFBQTtBQUROO0FBR007RUFDRSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FBRFI7QUFPQTtFQUNFLHFCQUFBO0FBSkY7QUFNRTtFQUNFLHVCQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQUpKO0FBTUk7RUFDRSxtQkFBQTtBQUpOO0FBTU07RUFDRSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFKUjtBQU1RO0VBQ0UsY0FBQTtFQUNBLHNCQUFBO0FBSlY7QUFTUTtFQUNFLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUFQVjtBQVlJO0VBQ0UsdUJBQUE7RUFDQSwrQkFBQTtFQUNBLGdCQUFBO0FBVk47QUFjRTtFQUNFLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtBQVpKO0FBa0JJO0VBQ0UsWUFBQTtBQWhCTiIsImZpbGUiOiJwZXJtaXRzLWdlbmVyYXRlLWRtLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1oZWFkZXIge1xuICA6Om5nLWRlZXAgYXBwLWJhY2stY29udGludWUtdG9vbGJhciB7XG4gICAgaW9uLXRvb2xiYXIge1xuICAgICAgcGFkZGluZy10b3A6IDE2cHg7XG4gICAgICAtLWJhY2tncm91bmQ6ICNGNkY5RkI7XG5cbiAgICAgIGlvbi10aXRsZSB7XG4gICAgICAgIHBhZGRpbmc6IDAgMTRweDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBmb250LXNpemU6IDIycHg7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiAjRjZGOUZCO1xuXG4gIGlvbi1saXN0IHtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICB3aWR0aDogNTAlO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBtaW4td2lkdGg6IDMyMHB4O1xuXG4gICAgaW9uLWNhcmQge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcblxuICAgICAgaW9uLWNhcmQtdGl0bGUge1xuICAgICAgICBmb250LWZhbWlseTogSUJNIFBsZXggU2FucztcbiAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuXG4gICAgICAgIGlvbi10ZXh0IHtcbiAgICAgICAgICBjb2xvcjogI0QwMDIxQjtcbiAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlvbi1yYWRpby1ncm91cCB7XG4gICAgICAgIGlvbi1sYWJlbCB7XG4gICAgICAgICAgZm9udC1mYW1pbHk6IElCTSBQbGV4IFNhbnM7XG4gICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMXB4O1xuICAgICAgICAgIGNvbG9yOiAjMTcxNTM4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW9uLXJhZGlvIHtcbiAgICAgIC0tYm9yZGVyLWNvbG9yOiAjNEE5MEUyO1xuICAgICAgLS1ib3JkZXItY29sb3ItY2hlY2tlZDogIzRBOTBFMjtcbiAgICAgIC0tY29sb3I6ICM0QTkwRTI7XG4gICAgfVxuICB9XG5cbiAgLnRleHQtYm90dG9tLW1zZyB7XG4gICAgZm9udC1mYW1pbHk6IElCTSBQbGV4IFNhbnM7XG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjb2xvcjogIzE3MTUzODtcbiAgICBwYWRkaW5nOiAwIDMycHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcblxuICAgIGlvbi1sYWJlbCB7XG4gICAgICAvL21heC13aWR0aDogODAlO1xuICAgIH1cblxuICAgIC5hY3Rpb24tYnRuIHtcbiAgICAgIHdpZHRoOiAyMDBweDtcbiAgICB9XG4gIH1cbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PermitsGenerateDmPageRoutingModule } from './permits-generate-dm-routing.module';\n\nimport { PermitsGenerateDmPage } from './permits-generate-dm.page';\nimport {ComponentsModule} from '../../components/components.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        PermitsGenerateDmPageRoutingModule,\n        ComponentsModule\n    ],\n  declarations: [PermitsGenerateDmPage]\n})\nexport class PermitsGenerateDmPageModule {}\n","import {Component, NgZone, OnInit} from '@angular/core';\nimport {NavController} from '@ionic/angular';\nimport {DemoDataService} from '../../services/demo-data.service';\nimport {UtilService} from '../../services/util.service';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {ScreenOrientation} from '@ionic-native/screen-orientation/ngx';\n\n@Component({\n    selector: 'app-permits-generate-dm',\n    templateUrl: './permits-generate-dm.page.html',\n    styleUrls: ['./permits-generate-dm.page.scss'],\n})\nexport class PermitsGenerateDmPage implements OnInit {\n\n    list: any = [];\n    errorMessage = '';\n    submitted = false;\n\n    screenOrientationSubscribe;\n    isShowOritationPortrait = false;\n\n    constructor(\n        public navController: NavController,\n        public sharedDataService: SharedDataService,\n        private screenOrientation: ScreenOrientation,\n        private ngZone: NgZone,\n    ) {\n    }\n\n    ngOnInit() {\n    }\n\n    handleOrientation = () => {\n        if (this.sharedDataService.dedicatedMode) {\n            if (this.screenOrientation.type.includes('landscape')) {\n                this.screenOrientation.unlock();\n                this.isShowOritationPortrait = true;\n            }\n\n            this.screenOrientationSubscribe = this.screenOrientation.onChange().subscribe(() => {\n                this.ngZone.run(() => {\n                    if (this.screenOrientation.type.includes('portrait')) {\n                        this.isShowOritationPortrait = false;\n                    }\n                    if (this.screenOrientation.type.includes('landscape')) {\n                        this.isShowOritationPortrait = true;\n                    }\n                });\n            });\n        }\n    };\n\n\n    ionViewWillEnter() {\n        this.handleOrientation();\n    }\n\n    ionViewDidLeave(): void {\n\n        if (this.sharedDataService.dedicatedMode) {\n            if (!UtilService.isLocalHost()) {\n                this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE);\n                this.screenOrientationSubscribe.unsubscribe();\n            }\n        }\n    }\n\n    onClose() {\n        this.navController.navigateRoot('dashboard-dm', {replaceUrl: true});\n    }\n\n    onBack() {\n        this.navController.back();\n    }\n\n    isValid(item) {\n        if (item.required && !item.answer) {\n            return false;\n        }\n        return true;\n    }\n\n    invalidCount() {\n        let invalidCount = 0;\n        this.list.map((item) => {\n            if (item.required && !item.answer) {\n                invalidCount++;\n            }\n        });\n        return invalidCount;\n    }\n\n    onContinue() {\n        this.errorMessage = '';\n        this.submitted = true;\n        if (!this.invalidCount()) {\n            this.navController.navigateForward('signoff-digitalink', {\n                queryParams: {\n                    permitResult: UtilService.randomBoolean() ? 'success' : 'failed'\n                }\n            });\n        } else {\n            this.errorMessage = 'You have ' + this.invalidCount() + ' unanswered questions. Please review and answer them.';\n        }\n\n    }\n}\n"]}