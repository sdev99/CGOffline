{"version":3,"sources":["./src/app/pages/checkin-workpermit/checkin-workpermit.page.ts","./src/app/pages/checkin-workpermit/checkin-workpermit-routing.module.ts","./src/app/pages/checkin-workpermit/checkin-workpermit.page.html","./src/app/pages/checkin-workpermit/checkin-workpermit.page.scss","./src/app/pages/checkin-workpermit/checkin-workpermit.module.ts"],"names":[],"mappings":"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","file":"checkin-workpermit-checkin-workpermit-module-es2015.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {DemoDataService} from '../../services/demo-data.service';\nimport {NavController} from '@ionic/angular';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {EnumService} from '../../services/enum.service';\nimport {FormItem} from '../../_models/formItem';\nimport {UtilService} from '../../services/util.service';\nimport {Response, User} from '../../_models';\nimport {SignOffFormDetail} from '../../_models/signOffFormDetail';\nimport {ApiService} from '../../services/api.service';\nimport {AccountService} from '../../services/account.service';\nimport {CheckedInDetailItem} from '../../_models/checkedInDetailItem';\n\n@Component({\n    selector: 'app-checkin-workpermit',\n    templateUrl: './checkin-workpermit.page.html',\n    styleUrls: ['./checkin-workpermit.page.scss'],\n})\nexport class CheckinWorkpermitPage implements OnInit {\n    UtilService = UtilService;\n    availableWorkPermits: Array<FormItem>;\n    user: User;\n\n    isCheckedIn = false;\n\n    constructor(\n        public navController: NavController,\n        public sharedDataService: SharedDataService,\n        public utilService: UtilService,\n        public apiService: ApiService,\n        public navCtrl: NavController,\n        private accountService: AccountService,\n    ) {\n        if (!sharedDataService.dedicatedMode) {\n            this.isCheckedIn = sharedDataService.checkedInPlaces ? sharedDataService.checkedInPlaces.length > 0 : false;\n            this.user = this.accountService.userValue;\n        }\n        this.availableWorkPermits = sharedDataService.availableWorkPermits;\n    }\n\n    ngOnInit() {\n    }\n\n    fileIcon(type) {\n        let iconName = '';\n        switch (type) {\n            case 'document':\n                iconName = 'attachment1';\n                break;\n            case 'pdf':\n                iconName = 'attachment2';\n                break;\n            case 'form':\n                iconName = 'attachment3';\n                break;\n            case 'folder':\n                iconName = 'attachment4';\n                break;\n            case 'image':\n                iconName = 'attachment5';\n                break;\n            case 'video':\n                iconName = 'attachment6';\n                break;\n            default:\n                iconName = 'attachment1';\n\n        }\n        return './assets/icon/' + iconName + '.svg';\n    }\n\n    back() {\n        this.navController.back();\n    }\n\n    onSelect(item) {\n        if (this.sharedDataService.dedicatedMode) {\n            this.sharedDataService.signOffFormDetail = item;\n            this.sharedDataService.signOffFor = EnumService.SignOffType.WORK_PERMIT_DM;\n            this.navController.navigateForward('form-open-auth-dm');\n        } else {\n            this.navController.navigateForward('form-cover', {\n                queryParams: item\n            });\n        }\n    }\n\n\n    async openForm(form: FormItem) {\n        this.utilService.presentLoadingWithOptions();\n\n        if (this.sharedDataService.dedicatedMode) {\n            const place: CheckedInDetailItem = this.sharedDataService.currentSelectedCheckinPlace;\n            this.apiService.getDedicatedModeSignOffFormDetail(form.formID).subscribe((response: Response) => {\n                this.utilService.hideLoading();\n                if (response.StatusCode === EnumService.ApiResponseCode.RequestSuccessful) {\n                    this.sharedDataService.signOffFor = EnumService.SignOffType.FORMS_DM;\n                    this.sharedDataService.viewFormFor = EnumService.ViewFormForType.WorkPermitDM;\n                    this.sharedDataService.signOffFormDetail = response.Result as SignOffFormDetail;\n                    this.sharedDataService.dedicatedModeTempAuthFor = EnumService.DedicatedModeTempAuthType.WorkPermit;\n                    this.navController.navigateForward('/form-open-auth-dm');\n                }\n            }, (error) => {\n                this.utilService.hideLoading();\n            });\n        } else {\n            const place: CheckedInDetailItem = this.sharedDataService.currentSelectedCheckinPlace;\n            this.apiService.getSignOffFormDetail(this.user?.userId, form.formID, place?.locationID, place?.projectID, place?.inventoryItemID).subscribe((response: Response) => {\n                this.utilService.hideLoading();\n                if (response.StatusCode === EnumService.ApiResponseCode.RequestSuccessful) {\n                    this.sharedDataService.viewFormFor = EnumService.ViewFormForType.CurrentCheckinWorkPermit;\n                    this.sharedDataService.signOffFormDetail = response.Result as SignOffFormDetail;\n                    this.navCtrl.navigateForward(['/form-cover'], {replaceUrl: true});\n                }\n            }, (error) => {\n                this.utilService.hideLoading();\n            });\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CheckinWorkpermitPage } from './checkin-workpermit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckinWorkpermitPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CheckinWorkpermitPageRoutingModule {}\n","export default \"<ion-header>\\n    <ng-container *ngIf=\\\"!sharedDataService.dedicatedMode\\\">\\n        <app-dashboard-header [showPlaceNavigationBtns]=\\\"false\\\" [isCurrentCheckin]=\\\"true\\\"\\n                              [hideCheckinButton]=\\\"isCheckedIn\\\"\\n        ></app-dashboard-header>\\n\\n        <ion-toolbar style=\\\"padding-top: 0\\\">\\n            <ion-back-button icon=\\\"./assets/icon/back.svg\\\" slot=\\\"start\\\" text=\\\"\\\" color=\\\"dark\\\"\\n                             mode=\\\"md\\\"></ion-back-button>\\n            <ion-title class=\\\"ion-text-left\\\">Work Permit Forms</ion-title>\\n        </ion-toolbar>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"sharedDataService.dedicatedMode\\\">\\n        <app-modal-header-dm [modalTitle]=\\\"sharedDataService.getCurrentCheckedInEntityName()\\\"\\n                             modalSubTitle=\\\"Work Permit\\\"\\n                             (closeModal)=\\\"back()\\\"></app-modal-header-dm>\\n    </ng-container>\\n\\n</ion-header>\\n\\n\\n<ion-content>\\n    <ion-list *ngIf=\\\"availableWorkPermits && availableWorkPermits.length>0\\\" class=\\\"activity-list\\\" lines=\\\"full\\\">\\n        <ion-item *ngFor=\\\"let item of availableWorkPermits\\\" (click)=\\\"openForm(item)\\\">\\n            <ion-icon slot=\\\"start\\\" [src]=\\\"UtilService.FileIcon('form')\\\"></ion-icon>\\n            <ion-label>{{item.formTitle}}</ion-label>\\n        </ion-item>\\n    </ion-list>\\n\\n    <ng-container *ngIf=\\\"!availableWorkPermits || availableWorkPermits?.length===0\\\">\\n        <app-empty-message message=\\\"No permits available\\\"></app-empty-message>\\n    </ng-container>\\n\\n</ion-content>\\n\";","export default \"ion-toolbar ion-title {\\n  padding-left: 55px;\\n}\\n\\nion-content ion-list.activity-list ion-list-header {\\n  padding: 20px 10px;\\n  align-items: center;\\n  --border-color: #DCE7EF;\\n  --border-width: 1px;\\n  --border-style: solid;\\n}\\n\\nion-content ion-list.activity-list ion-list-header ion-label {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: bold;\\n  font-size: 16px;\\n  line-height: 21px;\\n  color: #444444;\\n  margin: 0;\\n}\\n\\nion-content ion-list.activity-list ion-item {\\n  --border-color: #DCE7EF;\\n  --border-width: 1px;\\n  --border-style: solid;\\n  --padding-top: 12px;\\n  --padding-bottom: 12px;\\n}\\n\\nion-content ion-list.activity-list ion-item ion-label {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: #21092A;\\n}\\n\\nion-content ion-list.activity-list ion-item ion-icon {\\n  width: 22px;\\n  height: 22px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NoZWNraW4td29ya3Blcm1pdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxrQkFBQTtBQUFKOztBQU9JO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQUpOOztBQU1NO0VBQ0UsMEJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7QUFKUjs7QUFRSTtFQUNFLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7QUFOTjs7QUFRTTtFQUNFLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUFOUjs7QUFTTTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBUFIiLCJmaWxlIjoiY2hlY2tpbi13b3JrcGVybWl0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10b29sYmFyIHtcbiAgaW9uLXRpdGxlIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDU1cHg7XG4gIH1cbn1cblxuaW9uLWNvbnRlbnQge1xuICBpb24tbGlzdC5hY3Rpdml0eS1saXN0IHtcblxuICAgIGlvbi1saXN0LWhlYWRlciB7XG4gICAgICBwYWRkaW5nOiAyMHB4IDEwcHg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgLS1ib3JkZXItY29sb3I6ICNEQ0U3RUY7XG4gICAgICAtLWJvcmRlci13aWR0aDogMXB4O1xuICAgICAgLS1ib3JkZXItc3R5bGU6IHNvbGlkO1xuXG4gICAgICBpb24tbGFiZWwge1xuICAgICAgICBmb250LWZhbWlseTogSUJNIFBsZXggU2FucztcbiAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjFweDtcbiAgICAgICAgY29sb3I6ICM0NDQ0NDQ7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpb24taXRlbSB7XG4gICAgICAtLWJvcmRlci1jb2xvcjogI0RDRTdFRjtcbiAgICAgIC0tYm9yZGVyLXdpZHRoOiAxcHg7XG4gICAgICAtLWJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgICAtLXBhZGRpbmctdG9wOiAxMnB4O1xuICAgICAgLS1wYWRkaW5nLWJvdHRvbTogMTJweDtcblxuICAgICAgaW9uLWxhYmVsIHtcbiAgICAgICAgZm9udC1mYW1pbHk6IElCTSBQbGV4IFNhbnM7XG4gICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMThweDtcbiAgICAgICAgY29sb3I6ICMyMTA5MkE7XG4gICAgICB9XG5cbiAgICAgIGlvbi1pY29uIHtcbiAgICAgICAgd2lkdGg6IDIycHg7XG4gICAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckinWorkpermitPageRoutingModule } from './checkin-workpermit-routing.module';\n\nimport { CheckinWorkpermitPage } from './checkin-workpermit.page';\nimport {ComponentsModule} from '../../components/components.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        CheckinWorkpermitPageRoutingModule,\n        ComponentsModule\n    ],\n  declarations: [CheckinWorkpermitPage]\n})\nexport class CheckinWorkpermitPageModule {}\n"],"sourceRoot":"webpack:///"}