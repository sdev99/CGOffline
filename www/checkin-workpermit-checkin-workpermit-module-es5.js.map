{"version":3,"sources":["webpack:///src/app/pages/checkin-workpermit/checkin-workpermit.page.ts","webpack:///src/app/pages/checkin-workpermit/checkin-workpermit-routing.module.ts","webpack:///src/app/pages/checkin-workpermit/checkin-workpermit.page.html","webpack:///src/app/pages/checkin-workpermit/checkin-workpermit.page.scss","webpack:///src/app/pages/checkin-workpermit/checkin-workpermit.module.ts"],"names":["CheckinWorkpermitPage","navController","sharedDataService","utilService","apiService","navCtrl","accountService","UtilService","isCheckedIn","dedicatedMode","checkedInPlaces","length","user","userValue","availableWorkPermits","type","iconName","back","item","signOffFormDetail","signOffFor","SignOffType","WORK_PERMIT_DM","navigateForward","queryParams","form","presentLoadingWithOptions","place","currentSelectedCheckinPlace","getDedicatedModeSignOffFormDetail","formID","subscribe","response","hideLoading","StatusCode","ApiResponseCode","RequestSuccessful","FORMS_DM","viewFormFor","ViewFormForType","WorkPermitDM","Result","dedicatedModeTempAuthFor","DedicatedModeTempAuthType","WorkPermit","error","getSignOffFormDetail","userId","locationID","projectID","inventoryItemID","CurrentCheckinWorkPermit","replaceUrl","selector","template","routes","path","component","CheckinWorkpermitPageRoutingModule","imports","forChild","exports","CheckinWorkpermitPageModule","declarations"],"mappings":"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","file":"checkin-workpermit-checkin-workpermit-module-es5.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {DemoDataService} from '../../services/demo-data.service';\nimport {NavController} from '@ionic/angular';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {EnumService} from '../../services/enum.service';\nimport {FormItem} from '../../_models/formItem';\nimport {UtilService} from '../../services/util.service';\nimport {Response, User} from '../../_models';\nimport {SignOffFormDetail} from '../../_models/signOffFormDetail';\nimport {ApiService} from '../../services/api.service';\nimport {AccountService} from '../../services/account.service';\nimport {CheckedInDetailItem} from '../../_models/checkedInDetailItem';\n\n@Component({\n    selector: 'app-checkin-workpermit',\n    templateUrl: './checkin-workpermit.page.html',\n    styleUrls: ['./checkin-workpermit.page.scss'],\n})\nexport class CheckinWorkpermitPage implements OnInit {\n    UtilService = UtilService;\n    availableWorkPermits: Array<FormItem>;\n    user: User;\n\n    isCheckedIn = false;\n\n    constructor(\n        public navController: NavController,\n        public sharedDataService: SharedDataService,\n        public utilService: UtilService,\n        public apiService: ApiService,\n        public navCtrl: NavController,\n        private accountService: AccountService,\n    ) {\n        if (!sharedDataService.dedicatedMode) {\n            this.isCheckedIn = sharedDataService.checkedInPlaces ? sharedDataService.checkedInPlaces.length > 0 : false;\n            this.user = this.accountService.userValue;\n        }\n        this.availableWorkPermits = sharedDataService.availableWorkPermits;\n    }\n\n    ngOnInit() {\n    }\n\n    fileIcon(type) {\n        let iconName = '';\n        switch (type) {\n            case 'document':\n                iconName = 'attachment1';\n                break;\n            case 'pdf':\n                iconName = 'attachment2';\n                break;\n            case 'form':\n                iconName = 'attachment3';\n                break;\n            case 'folder':\n                iconName = 'attachment4';\n                break;\n            case 'image':\n                iconName = 'attachment5';\n                break;\n            case 'video':\n                iconName = 'attachment6';\n                break;\n            default:\n                iconName = 'attachment1';\n\n        }\n        return './assets/icon/' + iconName + '.svg';\n    }\n\n    back() {\n        this.navController.back();\n    }\n\n    onSelect(item) {\n        if (this.sharedDataService.dedicatedMode) {\n            this.sharedDataService.signOffFormDetail = item;\n            this.sharedDataService.signOffFor = EnumService.SignOffType.WORK_PERMIT_DM;\n            this.navController.navigateForward('form-open-auth-dm');\n        } else {\n            this.navController.navigateForward('form-cover', {\n                queryParams: item\n            });\n        }\n    }\n\n\n    async openForm(form: FormItem) {\n        this.utilService.presentLoadingWithOptions();\n\n        if (this.sharedDataService.dedicatedMode) {\n            const place: CheckedInDetailItem = this.sharedDataService.currentSelectedCheckinPlace;\n            this.apiService.getDedicatedModeSignOffFormDetail(form.formID).subscribe((response: Response) => {\n                this.utilService.hideLoading();\n                if (response.StatusCode === EnumService.ApiResponseCode.RequestSuccessful) {\n                    this.sharedDataService.signOffFor = EnumService.SignOffType.FORMS_DM;\n                    this.sharedDataService.viewFormFor = EnumService.ViewFormForType.WorkPermitDM;\n                    this.sharedDataService.signOffFormDetail = response.Result as SignOffFormDetail;\n                    this.sharedDataService.dedicatedModeTempAuthFor = EnumService.DedicatedModeTempAuthType.WorkPermit;\n                    this.navController.navigateForward('/form-open-auth-dm');\n                }\n            }, (error) => {\n                this.utilService.hideLoading();\n            });\n        } else {\n            const place: CheckedInDetailItem = this.sharedDataService.currentSelectedCheckinPlace;\n            this.apiService.getSignOffFormDetail(this.user?.userId, form.formID, place?.locationID, place?.projectID, place?.inventoryItemID).subscribe((response: Response) => {\n                this.utilService.hideLoading();\n                if (response.StatusCode === EnumService.ApiResponseCode.RequestSuccessful) {\n                    this.sharedDataService.viewFormFor = EnumService.ViewFormForType.CurrentCheckinWorkPermit;\n                    this.sharedDataService.signOffFormDetail = response.Result as SignOffFormDetail;\n                    this.navCtrl.navigateForward(['/form-cover'], {replaceUrl: true});\n                }\n            }, (error) => {\n                this.utilService.hideLoading();\n            });\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CheckinWorkpermitPage } from './checkin-workpermit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckinWorkpermitPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CheckinWorkpermitPageRoutingModule {}\n","export default \"<ion-header>\\n    <ng-container *ngIf=\\\"!sharedDataService.dedicatedMode\\\">\\n        <app-dashboard-header [showPlaceNavigationBtns]=\\\"false\\\" [isCurrentCheckin]=\\\"true\\\"\\n                              [hideCheckinButton]=\\\"isCheckedIn\\\"\\n        ></app-dashboard-header>\\n\\n        <ion-toolbar style=\\\"padding-top: 0\\\">\\n            <ion-back-button icon=\\\"./assets/icon/back.svg\\\" slot=\\\"start\\\" text=\\\"\\\" color=\\\"dark\\\"\\n                             mode=\\\"md\\\"></ion-back-button>\\n            <ion-title class=\\\"ion-text-left\\\">Work Permit Forms</ion-title>\\n        </ion-toolbar>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"sharedDataService.dedicatedMode\\\">\\n        <app-modal-header-dm [modalTitle]=\\\"sharedDataService.getCurrentCheckedInEntityName()\\\"\\n                             modalSubTitle=\\\"Work Permit\\\"\\n                             (closeModal)=\\\"back()\\\"></app-modal-header-dm>\\n    </ng-container>\\n\\n</ion-header>\\n\\n\\n<ion-content>\\n    <ion-list *ngIf=\\\"availableWorkPermits && availableWorkPermits.length>0\\\" class=\\\"activity-list\\\" lines=\\\"full\\\">\\n        <ion-item *ngFor=\\\"let item of availableWorkPermits\\\" (click)=\\\"openForm(item)\\\">\\n            <ion-icon slot=\\\"start\\\" [src]=\\\"UtilService.FileIcon('form')\\\"></ion-icon>\\n            <ion-label>{{item.formTitle}}</ion-label>\\n        </ion-item>\\n    </ion-list>\\n\\n    <ng-container *ngIf=\\\"!availableWorkPermits || availableWorkPermits?.length===0\\\">\\n        <app-empty-message message=\\\"No permits available\\\"></app-empty-message>\\n    </ng-container>\\n\\n</ion-content>\\n\";","export default \"ion-toolbar ion-title {\\n  padding-left: 55px;\\n}\\n\\nion-content ion-list.activity-list ion-list-header {\\n  padding: 20px 10px;\\n  align-items: center;\\n  --border-color: #DCE7EF;\\n  --border-width: 1px;\\n  --border-style: solid;\\n}\\n\\nion-content ion-list.activity-list ion-list-header ion-label {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: bold;\\n  font-size: 16px;\\n  line-height: 21px;\\n  color: #444444;\\n  margin: 0;\\n}\\n\\nion-content ion-list.activity-list ion-item {\\n  --border-color: #DCE7EF;\\n  --border-width: 1px;\\n  --border-style: solid;\\n  --padding-top: 12px;\\n  --padding-bottom: 12px;\\n}\\n\\nion-content ion-list.activity-list ion-item ion-label {\\n  font-family: IBM Plex Sans;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: #21092A;\\n}\\n\\nion-content ion-list.activity-list ion-item ion-icon {\\n  width: 22px;\\n  height: 22px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NoZWNraW4td29ya3Blcm1pdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxrQkFBQTtBQUFKOztBQU9JO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQUpOOztBQU1NO0VBQ0UsMEJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFNBQUE7QUFKUjs7QUFRSTtFQUNFLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7QUFOTjs7QUFRTTtFQUNFLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUFOUjs7QUFTTTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBUFIiLCJmaWxlIjoiY2hlY2tpbi13b3JrcGVybWl0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10b29sYmFyIHtcbiAgaW9uLXRpdGxlIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDU1cHg7XG4gIH1cbn1cblxuaW9uLWNvbnRlbnQge1xuICBpb24tbGlzdC5hY3Rpdml0eS1saXN0IHtcblxuICAgIGlvbi1saXN0LWhlYWRlciB7XG4gICAgICBwYWRkaW5nOiAyMHB4IDEwcHg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgLS1ib3JkZXItY29sb3I6ICNEQ0U3RUY7XG4gICAgICAtLWJvcmRlci13aWR0aDogMXB4O1xuICAgICAgLS1ib3JkZXItc3R5bGU6IHNvbGlkO1xuXG4gICAgICBpb24tbGFiZWwge1xuICAgICAgICBmb250LWZhbWlseTogSUJNIFBsZXggU2FucztcbiAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjFweDtcbiAgICAgICAgY29sb3I6ICM0NDQ0NDQ7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpb24taXRlbSB7XG4gICAgICAtLWJvcmRlci1jb2xvcjogI0RDRTdFRjtcbiAgICAgIC0tYm9yZGVyLXdpZHRoOiAxcHg7XG4gICAgICAtLWJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgICAtLXBhZGRpbmctdG9wOiAxMnB4O1xuICAgICAgLS1wYWRkaW5nLWJvdHRvbTogMTJweDtcblxuICAgICAgaW9uLWxhYmVsIHtcbiAgICAgICAgZm9udC1mYW1pbHk6IElCTSBQbGV4IFNhbnM7XG4gICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMThweDtcbiAgICAgICAgY29sb3I6ICMyMTA5MkE7XG4gICAgICB9XG5cbiAgICAgIGlvbi1pY29uIHtcbiAgICAgICAgd2lkdGg6IDIycHg7XG4gICAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckinWorkpermitPageRoutingModule } from './checkin-workpermit-routing.module';\n\nimport { CheckinWorkpermitPage } from './checkin-workpermit.page';\nimport {ComponentsModule} from '../../components/components.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        CheckinWorkpermitPageRoutingModule,\n        ComponentsModule\n    ],\n  declarations: [CheckinWorkpermitPage]\n})\nexport class CheckinWorkpermitPageModule {}\n"]}