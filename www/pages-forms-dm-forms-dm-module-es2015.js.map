{"version":3,"sources":["./src/app/pages/forms-dm/forms-dm-routing.module.ts","./src/app/pages/forms-dm/forms-dm.page.scss","./src/app/pages/forms-dm/forms-dm.module.ts","./src/app/pages/forms-dm/forms-dm.page.ts","./src/app/pages/forms-dm/forms-dm.page.html"],"names":[],"mappings":"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","file":"pages-forms-dm-forms-dm-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FormsDmPage } from './forms-dm.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FormsDmPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FormsDmPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmb3Jtcy1kbS5wYWdlLnNjc3MifQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FormsDmPageRoutingModule } from './forms-dm-routing.module';\n\nimport { FormsDmPage } from './forms-dm.page';\nimport {ComponentsModule} from '../../components/components.module';\nimport {PipesModule} from '../../pipes/pipes.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        FormsDmPageRoutingModule,\n        ComponentsModule,\n        PipesModule\n    ],\n  declarations: [FormsDmPage]\n})\nexport class FormsDmPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {FilehandlerService} from '../../services/filehandler.service';\nimport {UtilService} from '../../services/util.service';\nimport {NavController} from '@ionic/angular';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {EnumService} from '../../services/enum.service';\nimport {ApiService} from '../../services/api.service';\nimport {Response} from '../../_models';\nimport {ArchivedDocumentDetail} from '../../_models/archivedDocumentDetail';\nimport {FormItem} from '../../_models/formItem';\nimport {SignOffFormDetail} from '../../_models/signOffFormDetail';\nimport {SignOffDetailsPostData} from '../../_models/signOffDetailsPostData';\n\n@Component({\n    selector: 'app-forms-dm',\n    templateUrl: './forms-dm.page.html',\n    styleUrls: ['./forms-dm.page.scss'],\n})\nexport class FormsDmPage implements OnInit {\n    UtilService = UtilService;\n    EnumService = EnumService;\n\n    listType = EnumService.DedicatedModeFormListType.Available;\n    listTypes = Object.values(EnumService.DedicatedModeFormListType);\n\n    searchQuery = '';\n\n    availableForms: Array<FormItem>;\n    archivedForms: Array<ArchivedDocumentDetail>;\n\n    constructor(\n        private navController: NavController,\n        private filehandlerService: FilehandlerService,\n        public utilService: UtilService,\n        public sharedDataService: SharedDataService,\n        public apiService: ApiService,\n    ) {\n    }\n\n    ngOnInit() {\n    }\n\n    ionViewWillEnter() {\n        this.sharedDataService.dedicatedModeProcessType = EnumService.DedicatedModeProcessTypes.Form;\n        this.getDedicatedModeAvailableForms();\n        this.getDedicatedModeArchiveForms();\n    }\n\n    getDedicatedModeAvailableForms() {\n        const companyID = this.sharedDataService.dedicatedModeDeviceDetailData?.companyID;\n        this.apiService.getDedicatedModeAvailableForms(companyID).subscribe((response: Response) => {\n            if (response) {\n                this.availableForms = response.Result;\n            }\n        }, (error) => {\n\n        });\n    }\n\n    getDedicatedModeArchiveForms() {\n        const companyID = this.sharedDataService.dedicatedModeDeviceDetailData?.companyID;\n        this.apiService.getDedicatedModeArchiveForms(companyID).subscribe((response: Response) => {\n            if (response) {\n                this.archivedForms = response.Result;\n            }\n        }, (error) => {\n\n        });\n    }\n\n    onSearch(search) {\n        this.searchQuery = search;\n    }\n\n    searchbarShowHide(visible) {\n        if (!visible) {\n            this.searchQuery = '';\n        }\n    }\n\n    segmentChanged(event) {\n        this.listType = event;\n        if (event === EnumService.DedicatedModeFormListType.Available) {\n            this.getDedicatedModeAvailableForms();\n        } else if (event === EnumService.DedicatedModeFormListType.Archive) {\n            this.getDedicatedModeArchiveForms();\n        }\n    }\n\n    openForm(item: FormItem) {\n        this.utilService.presentLoadingWithOptions();\n        this.apiService.getDedicatedModeSignOffFormDetail(item.formID).subscribe((response: Response) => {\n            this.utilService.hideLoading();\n            if (response.StatusCode === EnumService.ApiResponseCode.RequestSuccessful) {\n                this.sharedDataService.signOffFor = EnumService.SignOffType.FORMS_DM;\n                this.sharedDataService.viewFormFor = EnumService.ViewFormForType.FormDM;\n                this.sharedDataService.signOffFormDetail = response.Result as SignOffFormDetail;\n                this.sharedDataService.dedicatedModeTempAuthFor = EnumService.DedicatedModeTempAuthType.Form;\n                this.navController.navigateForward('/form-open-auth-dm');\n            }\n        }, error => {\n            this.utilService.hideLoading();\n        });\n    }\n\n    openArchivedForm(item: ArchivedDocumentDetail) {\n        if (item.documentFileName) {\n            this.filehandlerService.openFile(this.sharedDataService.globalDirectories?.documentDirectory + '' + item.documentFileName);\n        } else {\n            this.utilService.showAlert('This device needs to be synced first in order to show the selected file. Please sync device and try again.', 'File Not Available Yet');\n        }\n    }\n\n}\n","export default \"<ion-header>\\n    <app-dashboard-header-dm [title]=\\\"sharedDataService.getCurrentCheckedInEntityName()\\\"></app-dashboard-header-dm>\\n    <app-topnavigations-btns-dm activeBtn=\\\"form\\\"></app-topnavigations-btns-dm>\\n    <app-topnavigations-segments-dm [active]=\\\"listType\\\"\\n                                    [options]=\\\"listTypes\\\"\\n                                    [search]=\\\"searchQuery\\\"\\n                                    (searching)=\\\"onSearch($event)\\\"\\n                                    (searchbarShowHide)=\\\"searchbarShowHide($event)\\\"\\n                                    (changed)=\\\"segmentChanged($event)\\\"></app-topnavigations-segments-dm>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-list\\n            *ngIf=\\\"(listType === EnumService.DedicatedModeFormListType.Available && availableForms?.length>0) || (listType === EnumService.DedicatedModeFormListType.Archive && archivedForms?.length>0); else noDocument\\\"\\n            class=\\\"activity-list\\\"\\n            lines=\\\"full\\\">\\n\\n\\n        <ng-container *ngIf=\\\"listType === EnumService.DedicatedModeFormListType.Available\\\">\\n            <app-archived-item\\n                    *ngFor=\\\"let item of availableForms | listFilter:searchQuery:'formTitle';\\\"\\n                    [icon]=\\\"item.documentFileIconURL\\\"\\n                    (itemSelect)=\\\"openForm(item)\\\"\\n                    [colFirst]=\\\"item.formTitle\\\"\\n            ></app-archived-item>\\n        </ng-container>\\n\\n        <ng-container *ngIf=\\\"listType === EnumService.DedicatedModeFormListType.Archive\\\">\\n            <app-archived-item\\n                    *ngFor=\\\"let item of archivedForms | listFilter:searchQuery:'documentTitle';\\\"\\n                    (itemSelect)=\\\"openArchivedForm(item)\\\"\\n                    [icon]=\\\"item.documentFileIconURL\\\"\\n                    [colFirst]=\\\"item.documentTitle\\\"\\n                    colSecond=\\\"Signed by\\\"\\n                    [colSecondHighlighted]=\\\"item.signedByName\\\"\\n                    colThird=\\\"Signed\\\"\\n                    [colThirdHighlighted]=\\\"item.formattedCreatedDate\\\"\\n            ></app-archived-item>\\n        </ng-container>\\n    </ion-list>\\n\\n    <ng-template #noDocument>\\n        <app-empty-message message=\\\"No forms available\\\"></app-empty-message>\\n    </ng-template>\\n\\n\\n    <ng-container *ngIf=\\\"listType === EnumService.DedicatedModeFormListType.Available && availableForms?.length>0\\\">\\n\\n        <app-empty-message *ngIf=\\\"(availableForms | listFilter:searchQuery:'formTitle').length == 0\\\"\\n                           message=\\\"No Results Found\\\"></app-empty-message>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"listType === EnumService.DedicatedModeFormListType.Archive && archivedForms?.length>0\\\">\\n        <app-empty-message *ngIf=\\\"(archivedForms | listFilter:searchQuery:'documentTitle').length == 0\\\"\\n                           message=\\\"No Results Found\\\"></app-empty-message>\\n    </ng-container>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}