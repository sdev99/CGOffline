{"version":3,"sources":["webpack:///src/app/pages/documents-dm/documents-dm-routing.module.ts","webpack:///src/app/pages/documents-dm/documents-dm.page.ts","webpack:///src/app/pages/documents-dm/documents-dm.page.html","webpack:///src/app/pages/documents-dm/documents-dm.module.ts","webpack:///src/app/pages/documents-dm/documents-dm.page.scss"],"names":["routes","path","component","DocumentsDmPageRoutingModule","imports","forChild","exports","DocumentsDmPage","navController","filehandlerService","utilService","sharedDataService","apiService","UtilService","EnumService","listType","DedicatedModeDocumentListType","Available","listTypes","Object","values","searchQuery","dedicatedModeProcessType","DedicatedModeProcessTypes","Document","getDedicatedModeAvailableDocuments","getDedicatedModeArchiveDocuments","companyID","dedicatedModeDeviceDetailData","subscribe","response","availableDocuments","Result","error","archivedDocuments","search","event","Archive","visible","item","documentFileName","navigateForward","queryParams","documentDetail","JSON","stringify","showAlert","openFile","globalDirectories","documentDirectory","selector","template","DocumentsDmPageModule","declarations"],"mappings":"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","file":"pages-documents-dm-documents-dm-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DocumentsDmPage } from './documents-dm.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DocumentsDmPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DocumentsDmPageRoutingModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {DemoDataService} from '../../services/demo-data.service';\nimport {UtilService} from '../../services/util.service';\nimport {FilehandlerService} from '../../services/filehandler.service';\nimport {NavController} from '@ionic/angular';\nimport {SharedDataService} from '../../services/shared-data.service';\nimport {ApiService} from '../../services/api.service';\nimport {GlobalDirectory} from '../../_models/globalDirectory';\nimport {EnumService} from '../../services/enum.service';\nimport {Response} from '../../_models';\nimport {DocumentDetail} from '../../_models/documentDetail';\nimport {ArchivedDocumentDetail} from '../../_models/archivedDocumentDetail';\n\n@Component({\n    selector: 'app-documents-dm',\n    templateUrl: './documents-dm.page.html',\n    styleUrls: ['./documents-dm.page.scss'],\n})\nexport class DocumentsDmPage implements OnInit {\n    UtilService = UtilService;\n    EnumService = EnumService;\n\n    listType = EnumService.DedicatedModeDocumentListType.Available;\n    listTypes = Object.values(EnumService.DedicatedModeDocumentListType);\n\n    searchQuery = '';\n\n    availableDocuments: Array<DocumentDetail>;\n    archivedDocuments: Array<ArchivedDocumentDetail>;\n\n    constructor(\n        private navController: NavController,\n        private filehandlerService: FilehandlerService,\n        public utilService: UtilService,\n        public sharedDataService: SharedDataService,\n        public apiService: ApiService,\n    ) {\n    }\n\n    ngOnInit() {\n\n    }\n\n    ionViewWillEnter() {\n        this.sharedDataService.dedicatedModeProcessType = EnumService.DedicatedModeProcessTypes.Document;\n        this.getDedicatedModeAvailableDocuments();\n        this.getDedicatedModeArchiveDocuments();\n    }\n\n\n    getDedicatedModeAvailableDocuments() {\n        const companyID = this.sharedDataService.dedicatedModeDeviceDetailData?.companyID;\n        this.apiService.getDedicatedModeAvailableDocuments(companyID).subscribe((response: Response) => {\n            if (response) {\n                this.availableDocuments = response.Result;\n            }\n        }, (error) => {\n\n        });\n    }\n\n    getDedicatedModeArchiveDocuments() {\n        const companyID = this.sharedDataService.dedicatedModeDeviceDetailData?.companyID;\n        this.apiService.getDedicatedModeArchiveDocuments(companyID).subscribe((response: Response) => {\n            if (response) {\n                this.archivedDocuments = response.Result;\n            }\n        }, (error) => {\n\n        });\n    }\n\n    onSearch(search) {\n        this.searchQuery = search;\n    }\n\n    segmentChanged(event) {\n        this.listType = event;\n        if (event === EnumService.DedicatedModeDocumentListType.Available) {\n            this.getDedicatedModeAvailableDocuments();\n        } else if (event === EnumService.DedicatedModeDocumentListType.Archive) {\n            this.getDedicatedModeArchiveDocuments();\n        }\n    }\n\n    searchbarShowHide(visible) {\n        if (!visible) {\n            this.searchQuery = '';\n        }\n    }\n\n    openAvailableDocument(item: DocumentDetail) {\n        if (item.documentFileName) {\n            this.navController.navigateForward('/document-openchoice-dm', {\n                queryParams: {\n                    documentDetail: JSON.stringify(item)\n                }\n            });\n        } else {\n            this.utilService.showAlert('This device needs to be synced first in order to show the selected file. Please sync device and try again.', 'File Not Available Yet');\n        }\n    }\n\n    openArchivedDocument(item: ArchivedDocumentDetail) {\n        if (item.documentFileName) {\n            this.filehandlerService.openFile(this.sharedDataService.globalDirectories?.documentDirectory + '' + item.documentFileName);\n        } else {\n            this.utilService.showAlert('This device needs to be synced first in order to show the selected file. Please sync device and try again.', 'File Not Available Yet');\n        }\n    }\n}\n","export default \"<ion-header>\\n    <app-dashboard-header-dm [title]=\\\"sharedDataService.getCurrentCheckedInEntityName()\\\"></app-dashboard-header-dm>\\n    <app-topnavigations-btns-dm activeBtn=\\\"document\\\"></app-topnavigations-btns-dm>\\n    <app-topnavigations-segments-dm [active]=\\\"listType\\\" [options]=\\\"listTypes\\\"\\n                                    [search]=\\\"searchQuery\\\"\\n                                    (searching)=\\\"onSearch($event)\\\"\\n                                    (searchbarShowHide)=\\\"searchbarShowHide($event)\\\"\\n                                    (changed)=\\\"segmentChanged($event)\\\"></app-topnavigations-segments-dm>\\n</ion-header>\\n\\n<ion-content mode=\\\"md\\\">\\n    <ion-list\\n            *ngIf=\\\"(listType === EnumService.DedicatedModeDocumentListType.Available && availableDocuments?.length>0) || (listType === EnumService.DedicatedModeDocumentListType.Archive && archivedDocuments?.length>0); else noDocument\\\"\\n            class=\\\"activity-list\\\"\\n            lines=\\\"full\\\">\\n\\n        <ng-container *ngIf=\\\"listType === EnumService.DedicatedModeDocumentListType.Available\\\">\\n            <app-archived-item\\n                    *ngFor=\\\"let item of availableDocuments | listFilter:searchQuery:'documentTitle'; last as isLast\\\"\\n                    (itemSelect)=\\\"openAvailableDocument(item)\\\"\\n                    [icon]=\\\"item.documentFileIconURL\\\"\\n                    [colFirst]=\\\"item.documentTitle\\\"\\n                    colThird=\\\"Signed\\\"\\n                    [colThirdHighlighted]=\\\"item.formattedCreatedDate\\\"\\n            ></app-archived-item>\\n        </ng-container>\\n\\n        <ng-container *ngIf=\\\"listType === EnumService.DedicatedModeDocumentListType.Archive\\\">\\n            <app-archived-item\\n                    *ngFor=\\\"let item of archivedDocuments | listFilter:searchQuery:'documentTitle';\\\"\\n                    (itemSelect)=\\\"openArchivedDocument(item)\\\"\\n                    [icon]=\\\"item.documentFileIconURL\\\"\\n                    [colFirst]=\\\"item.documentTitle\\\"\\n                    colSecond=\\\"Signed by\\\"\\n                    [colSecondHighlighted]=\\\"item.signedByName\\\"\\n                    colThird=\\\"Signed\\\"\\n                    [colThirdHighlighted]=\\\"item.formattedCreatedDate\\\"\\n            ></app-archived-item>\\n        </ng-container>\\n\\n    </ion-list>\\n\\n    <ng-template #noDocument>\\n        <app-empty-message message=\\\"No documents available\\\"></app-empty-message>\\n    </ng-template>\\n\\n    <ng-container\\n            *ngIf=\\\"listType === EnumService.DedicatedModeDocumentListType.Available && availableDocuments?.length>0\\\">\\n        <app-empty-message *ngIf=\\\"(availableDocuments | listFilter:searchQuery:'documentTitle').length == 0\\\"\\n                           message=\\\"No Results Found\\\"></app-empty-message>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"listType === EnumService.DedicatedModeDocumentListType.Archive && archivedDocuments?.length>0\\\">\\n        <app-empty-message *ngIf=\\\"(archivedDocuments | listFilter:searchQuery:'documentTitle').length == 0\\\"\\n                           message=\\\"No Results Found\\\"></app-empty-message>\\n    </ng-container>\\n\\n</ion-content>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DocumentsDmPageRoutingModule } from './documents-dm-routing.module';\n\nimport { DocumentsDmPage } from './documents-dm.page';\nimport {ComponentsModule} from '../../components/components.module';\nimport {PipesModule} from '../../pipes/pipes.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        DocumentsDmPageRoutingModule,\n        ComponentsModule,\n        PipesModule\n    ],\n  declarations: [DocumentsDmPage]\n})\nexport class DocumentsDmPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkb2N1bWVudHMtZG0ucGFnZS5zY3NzIn0= */\";"]}